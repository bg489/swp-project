"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[0],{1397:(e,t,r)=>{r.d(t,{k:()=>o});var n=r(5155),a=r(2115),s=r(5863),i=r(3999);let o=a.forwardRef((e,t)=>{let{className:r,value:a,...o}=e;return(0,n.jsx)(s.bL,{ref:t,className:(0,i.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",r),...o,children:(0,n.jsx)(s.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(a||0),"%)")}})})});o.displayName=s.bL.displayName},3999:(e,t,r)=>{r.d(t,{cn:()=>s});var n=r(2596),a=r(9688);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,n.$)(t))}},4964:(e,t,r)=>{r.d(t,{Xi:()=>l,av:()=>u,j7:()=>d,tU:()=>o});var n=r(5155),a=r(2115),s=r(704),i=r(3999);let o=s.bL,d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(s.B8,{ref:t,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...a})});d.displayName=s.B8.displayName;let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(s.l9,{ref:t,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r),...a})});l.displayName=s.l9.displayName;let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(s.UC,{ref:t,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...a})});u.displayName=s.UC.displayName},7168:(e,t,r)=>{r.d(t,{$:()=>l,r:()=>d});var n=r(5155),a=r(2115),s=r(9708),i=r(2085),o=r(3999);let d=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=a.forwardRef((e,t)=>{let{className:r,variant:a,size:i,asChild:l=!1,...u}=e,c=l?s.DX:"button";return(0,n.jsx)(c,{className:(0,o.cn)(d({variant:a,size:i,className:r})),ref:t,...u})});l.displayName="Button"},8074:(e,t,r)=>{r.d(t,{O:()=>l});var n=r(5155),a=r(2115),s=r(5695),i=r(9894),o=r(8482),d=r(1976);function l(e){let{children:t,requiredRole:r,redirectTo:l="/login"}=e,[u,c]=(0,a.useState)(null),[f,m]=(0,a.useState)(!0),p=(0,s.useRouter)();return((0,a.useEffect)(()=>{let e=(0,i.HW)();if(!e){p.push(l);return}if(r&&e.role!==r){"admin"===e.role?p.push("/admin/dashboard"):p.push("/user/dashboard");return}c(e),m(!1)},[p,r,l]),f)?(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,n.jsx)(o.Zp,{className:"w-full max-w-md",children:(0,n.jsxs)(o.Wu,{className:"flex flex-col items-center justify-center p-8",children:[(0,n.jsx)("div",{className:"w-16 h-16 bg-red-500 rounded-full flex items-center justify-center mb-4 animate-pulse",children:(0,n.jsx)(d.A,{className:"w-8 h-8 text-white"})}),(0,n.jsx)("p",{className:"text-gray-600",children:"Đang kiểm tra quyền truy cập..."})]})})}):u?(0,n.jsx)(n.Fragment,{children:t}):null}},8145:(e,t,r)=>{r.d(t,{E:()=>o});var n=r(5155);r(2115);var a=r(2085),s=r(3999);let i=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:r,...a}=e;return(0,n.jsx)("div",{className:(0,s.cn)(i({variant:r}),t),...a})}},8482:(e,t,r)=>{r.d(t,{BT:()=>l,Wu:()=>u,ZB:()=>d,Zp:()=>i,aR:()=>o});var n=r(5155),a=r(2115),s=r(3999);let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});i.displayName="Card";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",r),...a})});o.displayName="CardHeader";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});d.displayName="CardTitle";let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",r),...a})});l.displayName="CardDescription";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",r),...a})});u.displayName="CardContent",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter"},9894:(e,t,r)=>{r.d(t,{HW:()=>s,ri:()=>a,lt:()=>i});class n{initializeData(){this.users=[{id:"1",email:"admin@bloodconnect.vn",password_hash:"$2b$10$hash_for_123456",name:"Quản trị vi\xean",phone:null,address:null,blood_type:null,role:"admin",is_active:!0,last_donation:null,total_donations:0,created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:"2",email:"user@example.com",password_hash:"$2b$10$hash_for_123456",name:"Nguyễn Văn A",phone:"0901234567",address:"Quận 1, TP.HCM",blood_type:"O+",role:"user",is_active:!0,last_donation:"2024-09-15",total_donations:5,created_at:"2024-03-15T00:00:00Z",updated_at:"2024-09-15T00:00:00Z"}],this.bloodInventory=[{id:"1",blood_type:"O-",units_available:45,units_reserved:5},{id:"2",blood_type:"O+",units_available:120,units_reserved:10},{id:"3",blood_type:"A-",units_available:78,units_reserved:8},{id:"4",blood_type:"A+",units_available:156,units_reserved:15},{id:"5",blood_type:"B-",units_available:34,units_reserved:3},{id:"6",blood_type:"B+",units_available:89,units_reserved:9},{id:"7",blood_type:"AB-",units_available:23,units_reserved:2},{id:"8",blood_type:"AB+",units_available:67,units_reserved:7}]}async findUserByEmail(e){return this.users.find(t=>t.email===e)||null}async findUserById(e){return this.users.find(t=>t.id===e)||null}async createUser(e){let t={id:"U".concat(Date.now()),...e,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return this.users.push(t),t}async updateUser(e,t){let r=this.users.findIndex(t=>t.id===e);return -1!==r?(this.users[r]={...this.users[r],...t,updated_at:new Date().toISOString()},this.users[r]):null}async getBloodInventory(){return this.bloodInventory}async updateBloodInventory(e,t){let r=this.bloodInventory.findIndex(t=>t.blood_type===e);return -1!==r?(this.bloodInventory[r].units_available=t,this.bloodInventory[r]):null}async createBloodRequest(e){let t={id:"REQ".concat(Date.now()),...e,status:"pending",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return this.bloodRequests.push(t),t}async getBloodRequests(){return this.bloodRequests}async createAppointment(e){let t={id:"APT".concat(Date.now()),...e,status:"pending",created_at:new Date().toISOString()};return this.appointments.push(t),t}async getUserAppointments(e){return this.appointments.filter(t=>t.user_id===e)}async createDonationRecord(e){let t={id:"DON".concat(Date.now()),...e,created_at:new Date().toISOString()};return this.donationHistory.push(t),t}async getUserDonationHistory(e){return this.donationHistory.filter(t=>t.user_id===e)}async createNotification(e){let t={id:"NOT".concat(Date.now()),...e,is_read:!1,created_at:new Date().toISOString()};return this.notifications.push(t),t}async getUserNotifications(e){return this.notifications.filter(t=>t.user_id===e)}constructor(){this.users=[],this.donationHistory=[],this.bloodRequests=[],this.bloodInventory=[],this.appointments=[],this.notifications=[],this.initializeData()}}new n;let a=async()=>{localStorage.removeItem("currentUser"),localStorage.removeItem("authToken")},s=()=>{{let e=localStorage.getItem("currentUser");return e?JSON.parse(e):null}},i=e=>{e?(localStorage.setItem("currentUser",JSON.stringify(e)),localStorage.setItem("authToken","token_".concat(e.id))):(localStorage.removeItem("currentUser"),localStorage.removeItem("authToken"))}}}]);