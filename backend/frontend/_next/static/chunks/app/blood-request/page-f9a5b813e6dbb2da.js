(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1561],{704:(e,n,s)=>{"use strict";s.d(n,{B8:()=>T,UC:()=>D,bL:()=>C,l9:()=>O});var t=s(2115),r=s(5185),a=s(6081),l=s(9196),i=s(8905),o=s(3655),d=s(4315),c=s(5845),u=s(1285),h=s(5155),m="Tabs",[g,x]=(0,a.A)(m,[l.RG]),p=(0,l.RG)(),[b,v]=g(m),f=t.forwardRef((e,n)=>{let{__scopeTabs:s,value:t,onValueChange:r,defaultValue:a,orientation:l="horizontal",dir:i,activationMode:m="automatic",...g}=e,x=(0,d.jH)(i),[p,v]=(0,c.i)({prop:t,onChange:r,defaultProp:a});return(0,h.jsx)(b,{scope:s,baseId:(0,u.B)(),value:p,onValueChange:v,orientation:l,dir:x,activationMode:m,children:(0,h.jsx)(o.sG.div,{dir:x,"data-orientation":l,...g,ref:n})})});f.displayName=m;var j="TabsList",y=t.forwardRef((e,n)=>{let{__scopeTabs:s,loop:t=!0,...r}=e,a=v(j,s),i=p(s);return(0,h.jsx)(l.bL,{asChild:!0,...i,orientation:a.orientation,dir:a.dir,loop:t,children:(0,h.jsx)(o.sG.div,{role:"tablist","aria-orientation":a.orientation,...r,ref:n})})});y.displayName=j;var N="TabsTrigger",w=t.forwardRef((e,n)=>{let{__scopeTabs:s,value:t,disabled:a=!1,...i}=e,d=v(N,s),c=p(s),u=k(d.baseId,t),m=_(d.baseId,t),g=t===d.value;return(0,h.jsx)(l.q7,{asChild:!0,...c,focusable:!a,active:g,children:(0,h.jsx)(o.sG.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":m,"data-state":g?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:u,...i,ref:n,onMouseDown:(0,r.m)(e.onMouseDown,e=>{a||0!==e.button||!1!==e.ctrlKey?e.preventDefault():d.onValueChange(t)}),onKeyDown:(0,r.m)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&d.onValueChange(t)}),onFocus:(0,r.m)(e.onFocus,()=>{let e="manual"!==d.activationMode;g||a||!e||d.onValueChange(t)})})})});w.displayName=N;var A="TabsContent",B=t.forwardRef((e,n)=>{let{__scopeTabs:s,value:r,forceMount:a,children:l,...d}=e,c=v(A,s),u=k(c.baseId,r),m=_(c.baseId,r),g=r===c.value,x=t.useRef(g);return t.useEffect(()=>{let e=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,h.jsx)(i.C,{present:a||g,children:s=>{let{present:t}=s;return(0,h.jsx)(o.sG.div,{"data-state":g?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":u,hidden:!t,id:m,tabIndex:0,...d,ref:n,style:{...e.style,animationDuration:x.current?"0s":void 0},children:t&&l})}})});function k(e,n){return"".concat(e,"-trigger-").concat(n)}function _(e,n){return"".concat(e,"-content-").concat(n)}B.displayName=A;var C=f,T=y,O=w,D=B},968:(e,n,s)=>{"use strict";s.d(n,{b:()=>i});var t=s(2115),r=s(3655),a=s(5155),l=t.forwardRef((e,n)=>(0,a.jsx)(r.sG.label,{...e,ref:n,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||(null===(s=e.onMouseDown)||void 0===s||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));l.displayName="Label";var i=l},1118:(e,n,s)=>{Promise.resolve().then(s.bind(s,8886))},2486:(e,n,s)=>{"use strict";s.d(n,{A:()=>t});let t=(0,s(9946).A)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},2714:(e,n,s)=>{"use strict";s.d(n,{J:()=>d});var t=s(5155),r=s(2115),a=s(968),l=s(2085),i=s(3999);let o=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef((e,n)=>{let{className:s,...r}=e;return(0,t.jsx)(a.b,{ref:n,className:(0,i.cn)(o(),s),...r})});d.displayName=a.b.displayName},4964:(e,n,s)=>{"use strict";s.d(n,{Xi:()=>d,av:()=>c,j7:()=>o,tU:()=>i});var t=s(5155),r=s(2115),a=s(704),l=s(3999);let i=a.bL,o=r.forwardRef((e,n)=>{let{className:s,...r}=e;return(0,t.jsx)(a.B8,{ref:n,className:(0,l.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...r})});o.displayName=a.B8.displayName;let d=r.forwardRef((e,n)=>{let{className:s,...r}=e;return(0,t.jsx)(a.l9,{ref:n,className:(0,l.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...r})});d.displayName=a.l9.displayName;let c=r.forwardRef((e,n)=>{let{className:s,...r}=e;return(0,t.jsx)(a.UC,{ref:n,className:(0,l.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...r})});c.displayName=a.UC.displayName},8886:(e,n,s)=>{"use strict";s.r(n),s.d(n,{default:()=>N});var t=s(5155),r=s(2115),a=s(7168),l=s(8482),i=s(9852),o=s(2714),d=s(5784),c=s(8145),u=s(4964),h=s(8691),m=s(2486),g=s(4516),x=s(7949),p=s(7746),b=s(395),v=s(6350),f=s(8074),j=s(3403),y=s(3568);function N(){let{user:e,isLoading:n}=(0,b.A)(),s={bloodType:"",comment:"",distance:5,availability:"all",amount:1,components_needed:[],hospital:"",is_emergency:!1},[N,w]=(0,r.useState)(s),[A,B]=(0,r.useState)(!1),[k,_]=(0,r.useState)(""),[C,T]=(0,r.useState)(""),[O,D]=(0,r.useState)(!0),[R,E]=(0,r.useState)(-1),[V,S]=(0,r.useState)([]),[q,F]=(0,r.useState)(!1),G=(0,r.useRef)(null),[H,M]=(0,r.useState)(""),[I,L]=(0,r.useState)(""),[J,K]=(0,r.useState)(""),[U,Z]=(0,r.useState)(null),z=["O-","O+","A-","A+","B-","B+","AB-","AB+"],P={"O-":["O-","O+","A-","A+","B-","B+","AB-","AB+"],"O+":["O+","A+","B+","AB+"],"A-":["A-","A+","AB-","AB+"],"A+":["A+","AB+"],"B-":["B-","B+","AB-","AB+"],"B+":["B+","AB+"],"AB-":["AB-","AB+"],"AB+":["AB+"]};(0,r.useEffect)(()=>{(async function(){try{let e=(await j.A.get("/hospital/")).data.hospitals.map(e=>({_id:e._id,name:e.name,address:e.address,phone:e.phone}));S(e)}catch(e){console.error("Lỗi khi lấy danh s\xe1ch bệnh viện:",e)}})()},[]),(0,r.useEffect)(()=>{function e(e){G.current&&!G.current.contains(e.target)&&(F(!1),D(!1))}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);let W=e=>{w(n=>({...n,hospital:e._id})),_(e.name),T(e.name),D(!1),E(-1)},$=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/đ/g,"d").replace(/Đ/g,"D"),X=""===C.trim()?V:V.filter(e=>$(e.name.toLowerCase()).includes($(C.toLowerCase()))),Y=async n=>{n.preventDefault(),B(!0);try{if(!N.bloodType){y.Ay.error("Vui l\xf2ng chọn nh\xf3m m\xe1u cần"),B(!1);return}if(!N.hospital){y.Ay.error("Vui l\xf2ng chọn bệnh viện"),B(!1);return}if(0===N.components_needed.length){y.Ay.error("Vui l\xf2ng chọn \xedt nhất một th\xe0nh phần m\xe1u"),B(!1);return}if(!N.amount||N.amount<=0){y.Ay.error("Vui l\xf2ng nhập số lượng m\xe1u cần thiết (phải lớn hơn 0)"),B(!1);return}if(!(null==e?void 0:e._id)){y.Ay.error("Vui l\xf2ng đăng nhập để gửi y\xeau cầu"),B(!1);return}console.log("Current user:",e),console.log("User role:",e.role),console.log("User ID:",e._id),console.log("Submitting blood request with data:",{recipient_id:e._id,blood_type_needed:N.bloodType,components_needed:N.components_needed,amount_needed:N.amount,hospital:N.hospital,distance:N.distance,comment:N.comment,is_emergency:N.is_emergency}),(await j.A.post("/recipient/request",{recipient_id:e._id,blood_type_needed:N.bloodType,components_needed:N.components_needed,amount_needed:N.amount,hospital:N.hospital,distance:N.distance,comment:N.comment,is_emergency:N.is_emergency})).data.message?(y.Ay.success("Gửi y\xeau cầu th\xe0nh c\xf4ng"),w(s),_(""),T("")):y.Ay.error("Gửi y\xeau cầu thất bại")}catch(e){var t,r,a,l,i,o,d,c,u,h,m;if(console.error("Error submitting blood request:",e),console.error("Error response:",null===(t=e.response)||void 0===t?void 0:t.data),console.error("Error status:",null===(r=e.response)||void 0===r?void 0:r.status),(null===(a=e.response)||void 0===a?void 0:a.status)===400){let n=(null===(o=e.response)||void 0===o?void 0:null===(i=o.data)||void 0===i?void 0:i.message)||"Dữ liệu kh\xf4ng hợp lệ";y.Ay.error("Lỗi: ".concat(n)),console.error("400 Error details:",{message:null===(c=e.response)||void 0===c?void 0:null===(d=c.data)||void 0===d?void 0:d.message,errors:null===(h=e.response)||void 0===h?void 0:null===(u=h.data)||void 0===u?void 0:u.errors,data:null===(m=e.response)||void 0===m?void 0:m.data})}else(null===(l=e.response)||void 0===l?void 0:l.status)===404?y.Ay.error("Kh\xf4ng t\xecm thấy người d\xf9ng hoặc bệnh viện"):y.Ay.error("Đ\xe3 xảy ra lỗi. Vui l\xf2ng thử lại.")}finally{B(!1)}};return n?(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-red-50 to-white",children:[(0,t.jsx)(x.Header,{}),(0,t.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600"})}),(0,t.jsx)(p.Footer,{})]}):e?(0,t.jsx)(f.O,{requiredRole:"recipient",children:(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-red-50 to-white",children:[(0,t.jsx)(x.Header,{}),(0,t.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(h.A,{className:"w-8 h-8 text-white"})}),(0,t.jsx)(c.E,{className:"mb-4 bg-red-100 text-red-800",children:"\uD83E\uDE78 Dịch vụ m\xe1u tổng hợp"}),(0,t.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Y\xeau cầu m\xe1u & T\xecm người hiến"}),(0,t.jsx)("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Gửi y\xeau cầu m\xe1u cho staff hoặc tự t\xecm kiếm người hiến m\xe1u ph\xf9 hợp theo nh\xf3m m\xe1u v\xe0 vị tr\xed"})]}),(0,t.jsxs)(u.tU,{defaultValue:"request",className:"space-y-6",children:[(0,t.jsxs)(u.j7,{className:"grid w-full grid-cols-2",children:[(0,t.jsx)(u.Xi,{value:"request",children:"Gửi y\xeau cầu m\xe1u"}),(0,t.jsx)(u.Xi,{value:"compatibility",children:"Kiểm tra tương th\xedch"})]}),(0,t.jsx)(u.av,{value:"request",className:"space-y-6",children:(0,t.jsxs)(l.Zp,{children:[(0,t.jsxs)(l.aR,{children:[(0,t.jsxs)(l.ZB,{className:"flex items-center",children:[(0,t.jsx)(m.A,{className:"w-5 h-5 mr-2 text-red-600"}),"Gửi y\xeau cầu m\xe1u cho staff"]}),(0,t.jsx)(l.BT,{children:"Điền th\xf4ng tin b\xean dưới, staff sẽ t\xecm kiếm trong kho m\xe1u hoặc li\xean hệ người hiến ph\xf9 hợp"})]}),(0,t.jsx)("form",{onSubmit:Y,children:(0,t.jsxs)(l.Wu,{children:[(0,t.jsxs)("div",{className:"grid md:grid-cols-4 gap-4 mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(o.J,{htmlFor:"bloodType",children:"Nh\xf3m m\xe1u cần *"}),(0,t.jsxs)(d.l6,{value:N.bloodType,onValueChange:e=>w(n=>({...n,bloodType:e})),required:!0,children:[(0,t.jsx)(d.bq,{children:(0,t.jsx)(d.yv,{placeholder:"Chọn nh\xf3m m\xe1u"})}),(0,t.jsx)(d.gC,{children:z.map(e=>(0,t.jsx)(d.eb,{value:e,children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(h.A,{className:"w-4 h-4 mr-2 text-red-500"}),e]})},e))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o.J,{htmlFor:"hospital_name",children:"T\xean bệnh viện *"}),(0,t.jsxs)("div",{className:"relative",ref:G,children:[(0,t.jsx)(g.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,t.jsx)(i.p,{id:"hospital_name",placeholder:"V\xed dụ: Bệnh viện H\xf9ng Vương",value:k,onChange:e=>{T(e.target.value),_(e.target.value),D(!0),E(-1)},onKeyDown:e=>{if(O){if("ArrowDown"===e.key){let n=(R+1)%X.length;E(n),_(X[n].name),e.preventDefault()}else if("ArrowUp"===e.key){let n=(R-1+X.length)%X.length;E(n),_(X[n].name),e.preventDefault()}else"Enter"===e.key&&R>=0&&(W(X[R]),e.preventDefault())}},onFocus:()=>{F(!0),D(!0)},className:"pl-10",required:!0}),O&&q&&X.length>0&&(0,t.jsx)("ul",{className:"absolute z-10 bg-white border border-gray-300 w-full max-h-60 overflow-y-auto shadow-lg rounded",children:X.map((e,n)=>(0,t.jsxs)("li",{ref:R===n?e=>null==e?void 0:e.scrollIntoView({block:"nearest"}):null,className:"px-4 py-2 hover:bg-gray-100 cursor-pointer ".concat(R===n?"bg-gray-200":""),onClick:()=>W(e),children:[(0,t.jsx)("strong",{children:e.name}),e.address&&(0,t.jsx)("div",{className:"text-sm text-gray-500",children:e.address})]},n))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o.J,{htmlFor:"distance",children:"B\xe1n k\xednh t\xecm kiếm"}),(0,t.jsxs)(d.l6,{value:N.distance.toString(),onValueChange:e=>w(n=>({...n,distance:Number(e)})),children:[(0,t.jsx)(d.bq,{children:(0,t.jsx)(d.yv,{placeholder:"Chọn b\xe1n k\xednh"})}),(0,t.jsxs)(d.gC,{children:[(0,t.jsx)(d.eb,{value:"5",children:"5 km"}),(0,t.jsx)(d.eb,{value:"10",children:"10 km"}),(0,t.jsx)(d.eb,{value:"20",children:"20 km"}),(0,t.jsx)(d.eb,{value:"50",children:"50 km"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o.J,{htmlFor:"amount",children:"Mức độ cần m\xe1u"}),(0,t.jsxs)(d.l6,{value:N.amount.toString(),onValueChange:e=>w(n=>({...n,amount:Number(e)})),children:[(0,t.jsx)(d.bq,{children:(0,t.jsx)(d.yv,{placeholder:"Chọn mức độ cần m\xe1u"})}),(0,t.jsxs)(d.gC,{children:[(0,t.jsx)(d.eb,{value:"300",children:"Hạ huyết \xe1p nhẹ (250–350 ml)"}),(0,t.jsx)(d.eb,{value:"525",children:"Thiếu m\xe1u vừa (350–700 ml)"}),(0,t.jsx)(d.eb,{value:"1050",children:"Thiếu m\xe1u nặng (700–1.400 ml)"}),(0,t.jsx)(d.eb,{value:"1500",children:"Mất m\xe1u cấp t\xednh (>1.400 ml)"}),(0,t.jsx)(d.eb,{value:"1350",children:"Phẫu thuật lớn (700–2.000 ml)"}),(0,t.jsx)(d.eb,{value:"15",children:"Trẻ sơ sinh (10–20 ml/kg)"})]})]})]})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 mb-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(o.J,{className:"mb-2 block",children:"Th\xe0nh phần m\xe1u cần"}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-2",children:[{label:"M\xe1u to\xe0n phần",value:"whole"},{label:"Hồng cầu",value:"RBC"},{label:"Huyết tương",value:"plasma"},{label:"Tiểu cầu",value:"platelet"}].map(e=>(0,t.jsxs)("label",{className:"flex items-center px-3 py-2 rounded-lg border cursor-pointer transition-all text-sm font-medium\n                                ".concat(N.components_needed.includes(e.value)?"bg-red-100 border-red-400 text-red-700":"bg-white border-gray-300 hover:bg-red-50"),children:[(0,t.jsx)("input",{type:"checkbox",className:"mr-2 accent-red-600",checked:N.components_needed.includes(e.value),onChange:n=>{let s=N.components_needed,t=n.target.checked?[...s,e.value]:s.filter(n=>n!==e.value);w(e=>({...e,components_needed:t}))}}),e.label]},e.value))})]}),(0,t.jsxs)("div",{className:"flex flex-col justify-end",children:[(0,t.jsx)(o.J,{className:"mb-2",children:"Mức độ khẩn cấp"}),(0,t.jsxs)("button",{type:"button",onClick:()=>w(e=>({...e,is_emergency:!e.is_emergency})),className:"flex items-center justify-center px-3 py-2 text-sm font-semibold rounded-lg border transition-all duration-300\n                            ".concat(N.is_emergency?"bg-red-600 text-white border-red-700 shadow-lg animate-pulse":"bg-white text-red-600 border-red-300 hover:bg-red-50","\n                          "),children:[(0,t.jsx)("span",{className:"mr-2",children:N.is_emergency?"\uD83D\uDEA8":"⏰"}),N.is_emergency?"Khẩn cấp":"B\xecnh thường"]})]})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)(o.J,{htmlFor:"comment",children:"Ghi ch\xfa cho staff"}),(0,t.jsx)("textarea",{id:"comment",value:N.comment,onChange:e=>w(n=>({...n,comment:e.target.value})),placeholder:"V\xed dụ: Bệnh nh\xe2n đang nằm tại khoa cấp cứu, cần m\xe1u gấp trong 2 giờ...",rows:3,className:"w-full mt-1 px-3 py-2 border border-gray-300 rounded-lg text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-red-500"})]}),(0,t.jsxs)(a.$,{type:"submit",className:"bg-red-600 hover:bg-red-700",disabled:A,children:[(0,t.jsx)(m.A,{className:"w-4 h-4 mr-2"}),A?"Đang gửi...":"Gửi y\xeau cầu m\xe1u"]})]})})]})}),(0,t.jsx)(u.av,{value:"compatibility",className:"space-y-6",children:(0,t.jsxs)(l.Zp,{children:[(0,t.jsxs)(l.aR,{children:[(0,t.jsx)(l.ZB,{children:"Kiểm tra tương th\xedch th\xe0nh phần m\xe1u"}),(0,t.jsx)(l.BT,{children:"Chọn loại th\xe0nh phần m\xe1u v\xe0 nh\xf3m m\xe1u để kiểm tra tương th\xedch"})]}),(0,t.jsx)(l.Wu,{children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(o.J,{className:"text-base font-semibold",children:"Chọn th\xe0nh phần m\xe1u"}),(0,t.jsx)("div",{className:"grid gap-4 mt-4",children:Object.entries({"M\xe1u to\xe0n phần":"M\xe1u to\xe0n phần bao gồm hồng cầu, huyết tương v\xe0 tiểu cầu. Tu\xe2n theo quy tắc tương th\xedch nh\xf3m m\xe1u ABO v\xe0 Rh.","Hồng cầu":"Hồng cầu chứa hemoglobin, vận chuyển oxy. Người nhận phải tương th\xedch với kh\xe1ng nguy\xean tr\xean hồng cầu của người hiến.","Huyết tương":"Huyết tương chứa kh\xe1ng thể. Quy tắc tương th\xedch ngược với hồng cầu - nh\xf3m AB c\xf3 thể hiến cho tất cả.","Tiểu cầu":"Tiểu cầu gi\xfap đ\xf4ng m\xe1u. Tương th\xedch tương tự như hồng cầu nhưng ưu ti\xean c\xf9ng nh\xf3m m\xe1u."}).map(e=>{let[n,s]=e;return(0,t.jsx)(l.Zp,{className:"cursor-pointer transition-all ".concat(I===n?"border-red-500 bg-red-50":"border-gray-200 hover:border-gray-300"),onClick:()=>{L(n),Z(null)},children:(0,t.jsx)(l.Wu,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,t.jsx)("div",{className:"w-4 h-4 rounded-full border-2 mt-1 ".concat(I===n?"border-red-500 bg-red-500":"border-gray-300"),children:I===n&&(0,t.jsx)("div",{className:"w-2 h-2 bg-white rounded-full m-0.5"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg",children:n}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:s})]})]})})},n)})})]}),I&&(0,t.jsxs)("div",{children:[(0,t.jsx)(o.J,{className:"text-base font-semibold",children:"Chọn nh\xf3m m\xe1u"}),(0,t.jsx)("div",{className:"grid grid-cols-4 gap-3 mt-4",children:z.map(e=>(0,t.jsx)(a.$,{variant:J===e?"default":"outline",onClick:()=>{K(e),Z(null)},className:"h-16 text-lg font-bold",children:e},e))})]}),I&&J&&(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)(a.$,{onClick:()=>{if(!I||!J)return;let e=[],n=[];if("M\xe1u to\xe0n phần"===I||"Hồng cầu"===I||"Tiểu cầu"===I)e=P[J]||[],Object.entries(P).forEach(e=>{let[s,t]=e;t.includes(J)&&n.push(s)});else if("Huyết tương"===I){let s={"O-":["O-"],"O+":["O-","O+"],"A-":["A-","O-"],"A+":["A-","A+","O-","O+"],"B-":["B-","O-"],"B+":["B-","B+","O-","O+"],"AB-":["AB-","A-","B-","O-"],"AB+":["AB-","AB+","A-","A+","B-","B+","O-","O+"]};n=s[J]||[],Object.entries(s).forEach(n=>{let[s,t]=n;t.includes(J)&&e.push(s)})}Z({canGiveTo:e,canReceiveFrom:n}),setTimeout(()=>{let e=document.getElementById("compatibility-results");e&&e.scrollIntoView({behavior:"smooth",block:"center"})},100)},className:"bg-red-600 hover:bg-red-700 px-8 py-3 text-lg",children:"Kiểm tra tương th\xedch"})}),U&&(0,t.jsxs)(l.Zp,{className:"border-red-200 bg-red-50",id:"compatibility-results",children:[(0,t.jsxs)(l.aR,{children:[(0,t.jsx)(l.ZB,{className:"text-red-800",children:"Kết quả tương th\xedch"}),(0,t.jsxs)(l.BT,{className:"text-red-600",children:["Đang tra cứu ",I," với nh\xf3m m\xe1u ",J]})]}),(0,t.jsx)(l.Wu,{children:(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"font-semibold text-lg mb-4 text-green-800",children:[(0,t.jsx)("span",{className:"inline-block w-3 h-3 bg-green-500 rounded-full mr-2"}),"C\xf3 thể cho"]}),(0,t.jsx)("div",{className:"space-y-2",children:U.canGiveTo.map(e=>(0,t.jsxs)("div",{className:"flex items-center p-3 bg-green-100 rounded-lg",children:[(0,t.jsx)(h.A,{className:"w-5 h-5 text-green-600 mr-3"}),(0,t.jsxs)("span",{className:"font-medium",children:["Nh\xf3m m\xe1u: ",e]})]},e))})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h3",{className:"font-semibold text-lg mb-4 text-blue-800",children:[(0,t.jsx)("span",{className:"inline-block w-3 h-3 bg-blue-500 rounded-full mr-2"}),"C\xf3 thể nhận từ"]}),(0,t.jsx)("div",{className:"space-y-2",children:U.canReceiveFrom.map(e=>(0,t.jsxs)("div",{className:"flex items-center p-3 bg-blue-100 rounded-lg",children:[(0,t.jsx)(h.A,{className:"w-5 h-5 text-blue-600 mr-3"}),(0,t.jsxs)("span",{className:"font-medium",children:["Nh\xf3m m\xe1u: ",e]})]},e))})]})]})})]})]})})]})})]})]})}),(0,t.jsx)(y.l$,{position:"top-center",containerStyle:{top:80}}),(0,t.jsx)(p.Footer,{})]})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.Header,{}),(0,t.jsx)(v.z,{title:"Y\xeau cầu m\xe1u v\xe0 t\xecm người hiến",description:"Để gửi y\xeau cầu m\xe1u v\xe0 kiểm tra tương th\xedch m\xe1u, bạn cần đăng nhập hoặc tạo t\xe0i khoản mới",page:"blood-request"}),(0,t.jsx)(p.Footer,{})]})}},9852:(e,n,s)=>{"use strict";s.d(n,{p:()=>l});var t=s(5155),r=s(2115),a=s(3999);let l=r.forwardRef((e,n)=>{let{className:s,type:r,...l}=e;return(0,t.jsx)("input",{type:r,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:n,...l})});l.displayName="Input"}},e=>{var n=n=>e(e.s=n);e.O(0,[6237,6222,3464,3568,461,1975,7949,8337,8441,1684,7358],()=>n(1118)),_N_E=e.O()}]);