(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[957],{742:(e,s,t)=>{Promise.resolve().then(t.bind(t,1502))},1397:(e,s,t)=>{"use strict";t.d(s,{k:()=>i});var r=t(5155),a=t(2115),l=t(5863),n=t(3999);let i=a.forwardRef((e,s)=>{let{className:t,value:a,...i}=e;return(0,r.jsx)(l.bL,{ref:s,className:(0,n.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...i,children:(0,r.jsx)(l.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(a||0),"%)")}})})});i.displayName=l.bL.displayName},1502:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>Z});var r=t(5155),a=t(8074),l=t(8482),n=t(7168),i=t(8145),c=t(4964),d=t(1397),x=t(1976),m=t(1243),o=t(5670),u=t(381),h=t(5525),g=t(7340),j=t(4835),f=t(7580),p=t(3109),N=t(8691),v=t(9397),y=t(2657),b=t(9446),w=t(3717),A=t(4616),B=t(6874),C=t.n(B),R=t(6766),k=t(395),T=t(7746);function Z(){let{user:e,logout:s}=(0,k.A)(),t=[{id:"U001",name:"Nguyễn Văn A",email:"nguyenvana@email.com",bloodType:"O+",phone:"0901234567",registeredAt:"2 giờ trước",status:"pending"},{id:"U002",name:"Trần Thị B",email:"tranthib@email.com",bloodType:"A-",phone:"0907654321",registeredAt:"5 giờ trước",status:"pending"},{id:"U003",name:"L\xea Văn C",email:"levanc@email.com",bloodType:"B+",phone:"0912345678",registeredAt:"1 ng\xe0y trước",status:"pending"}],B=[{id:1,type:"donation",message:"Nguyễn Văn A đ\xe3 ho\xe0n th\xe0nh hiến m\xe1u",time:"10 ph\xfat trước",icon:x.A,color:"text-green-600"},{id:2,type:"emergency",message:"Y\xeau cầu khẩn cấp từ BV Chợ Rẫy - O- 2 đơn vị",time:"25 ph\xfat trước",icon:m.A,color:"text-red-600"},{id:3,type:"registration",message:"3 người d\xf9ng mới đăng k\xfd hiến m\xe1u",time:"1 giờ trước",icon:o.A,color:"text-blue-600"},{id:4,type:"system",message:"Cập nhật hệ thống th\xe0nh c\xf4ng",time:"2 giờ trước",icon:u.A,color:"text-gray-600"}],Z=e=>{switch(e){case"critical":return"bg-red-100 text-red-800 border-red-200";case"low":return"bg-orange-100 text-orange-800 border-orange-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"good":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return(0,r.jsx)(a.O,{requiredRole:"admin",children:(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[(0,r.jsx)("header",{className:"bg-white border-b sticky top-0 z-50",children:(0,r.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)(C(),{href:"/",className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-full overflow-hidden",children:(0,r.jsx)(R.default,{src:"/images/logo.webp",alt:"ScαrletBlood Logo",width:40,height:40,className:"w-full h-full object-cover"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"ScαrletBlood Admin"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Bảng điều khiển quản trị"})]})]}),(0,r.jsxs)(i.E,{className:"bg-red-100 text-red-800",children:[(0,r.jsx)(h.A,{className:"w-3 h-3 mr-1"}),"Quản trị vi\xean"]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("span",{className:"text-sm text-gray-600",children:["Xin ch\xe0o, ",(0,r.jsx)("strong",{children:null==e?void 0:e.name})]}),(0,r.jsx)(n.$,{variant:"outline",size:"sm",asChild:!0,children:(0,r.jsxs)(C(),{href:"/",children:[(0,r.jsx)(g.A,{className:"w-4 h-4 mr-2"}),"Về trang chủ"]})}),(0,r.jsxs)(n.$,{variant:"outline",size:"sm",onClick:()=>{s()},children:[(0,r.jsx)(j.A,{className:"w-4 h-4 mr-2"}),"Đăng xuất"]})]})]})})}),(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8 flex-grow",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(l.ZB,{className:"text-sm font-medium",children:"Tổng người d\xf9ng"}),(0,r.jsx)(f.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(l.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:2547..toLocaleString()}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:(0,r.jsxs)("span",{className:"text-green-600 flex items-center",children:[(0,r.jsx)(p.A,{className:"w-3 h-3 mr-1"}),"+",12.5,"%"]})})]})]}),(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(l.ZB,{className:"text-sm font-medium",children:"Chờ duyệt"}),(0,r.jsx)(o.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(l.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:45}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Cần xem x\xe9t"})]})]}),(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(l.ZB,{className:"text-sm font-medium",children:"Kho m\xe1u"}),(0,r.jsx)(N.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(l.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:1250}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Đơn vị c\xf3 sẵn"})]})]}),(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(l.ZB,{className:"text-sm font-medium",children:"Khẩn cấp"}),(0,r.jsx)(m.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(l.Wu,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-red-600",children:23}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Đang xử l\xfd"})]})]})]}),(0,r.jsxs)(c.tU,{defaultValue:"overview",className:"space-y-6",children:[(0,r.jsxs)(c.j7,{className:"grid w-full grid-cols-5",children:[(0,r.jsx)(c.Xi,{value:"overview",children:"Tổng quan"}),(0,r.jsx)(c.Xi,{value:"users",children:"Người d\xf9ng"}),(0,r.jsx)(c.Xi,{value:"inventory",children:"Kho m\xe1u"}),(0,r.jsx)(c.Xi,{value:"requests",children:"Y\xeau cầu"}),(0,r.jsx)(c.Xi,{value:"settings",children:"C\xe0i đặt"})]}),(0,r.jsx)(c.av,{value:"overview",className:"space-y-6",children:(0,r.jsxs)("div",{className:"grid lg:grid-cols-2 gap-6",children:[(0,r.jsxs)(l.Zp,{children:[(0,r.jsx)(l.aR,{children:(0,r.jsxs)(l.ZB,{className:"flex items-center",children:[(0,r.jsx)(v.A,{className:"w-5 h-5 mr-2 text-green-600"}),"T\xecnh trạng hệ thống"]})}),(0,r.jsx)(l.Wu,{children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,r.jsx)("span",{className:"text-sm",children:"Hiệu suất hệ thống"}),(0,r.jsxs)("span",{className:"text-sm font-medium",children:[98.2,"%"]})]}),(0,r.jsx)(d.k,{value:98.2,className:"h-2"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,r.jsx)("span",{className:"text-sm",children:"Người d\xf9ng hoạt động"}),(0,r.jsxs)("span",{className:"text-sm font-medium",children:["71.6","%"]})]}),(0,r.jsx)(d.k,{value:71.57440125638006,className:"h-2"})]})]})})]}),(0,r.jsxs)(l.Zp,{children:[(0,r.jsx)(l.aR,{children:(0,r.jsx)(l.ZB,{children:"Hoạt động gần đ\xe2y"})}),(0,r.jsx)(l.Wu,{children:(0,r.jsx)("div",{className:"space-y-4",children:B.map(e=>(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,r.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center",children:(0,r.jsx)(e.icon,{className:"w-4 h-4 ".concat(e.color)})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("p",{className:"text-sm text-gray-900",children:e.message}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:e.time})]})]},e.id))})})]})]})}),(0,r.jsx)(c.av,{value:"users",className:"space-y-6",children:(0,r.jsxs)(l.Zp,{children:[(0,r.jsx)(l.aR,{children:(0,r.jsxs)(l.ZB,{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{children:"Người d\xf9ng chờ duyệt"}),(0,r.jsxs)(i.E,{variant:"outline",children:[t.length," chờ duyệt"]})]})}),(0,r.jsx)(l.Wu,{children:(0,r.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:(0,r.jsx)(f.A,{className:"w-6 h-6 text-blue-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium",children:e.name}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:e.email}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,r.jsx)(i.E,{variant:"outline",className:"text-red-600",children:e.bloodType}),(0,r.jsx)("span",{className:"text-xs text-gray-500",children:e.registeredAt})]})]})]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsxs)(n.$,{size:"sm",variant:"outline",children:[(0,r.jsx)(y.A,{className:"w-4 h-4 mr-1"}),"Xem"]}),(0,r.jsxs)(n.$,{size:"sm",className:"bg-green-600 hover:bg-green-700",children:[(0,r.jsx)(o.A,{className:"w-4 h-4 mr-1"}),"Duyệt"]}),(0,r.jsxs)(n.$,{size:"sm",variant:"destructive",children:[(0,r.jsx)(b.A,{className:"w-4 h-4 mr-1"}),"Từ chối"]})]})]},e.id))})})]})}),(0,r.jsx)(c.av,{value:"inventory",className:"space-y-6",children:(0,r.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{type:"O-",units:45,status:"low",target:100,color:"bg-red-500"},{type:"O+",units:120,status:"good",target:150,color:"bg-red-400"},{type:"A-",units:78,status:"medium",target:100,color:"bg-blue-500"},{type:"A+",units:156,status:"good",target:150,color:"bg-blue-400"},{type:"B-",units:34,status:"critical",target:80,color:"bg-green-500"},{type:"B+",units:89,status:"medium",target:120,color:"bg-green-400"},{type:"AB-",units:23,status:"critical",target:60,color:"bg-purple-500"},{type:"AB+",units:67,status:"medium",target:80,color:"bg-purple-400"}].map(e=>(0,r.jsxs)(l.Zp,{children:[(0,r.jsx)(l.aR,{className:"pb-2",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("div",{className:"w-12 h-12 ".concat(e.color," rounded-full flex items-center justify-center"),children:(0,r.jsx)("span",{className:"text-xl font-bold text-white",children:e.type})}),(0,r.jsx)(i.E,{className:Z(e.status),children:"critical"===e.status?"Rất thấp":"low"===e.status?"Thấp":"medium"===e.status?"Trung b\xecnh":"Tốt"})]})}),(0,r.jsxs)(l.Wu,{children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-2xl font-bold",children:e.units}),(0,r.jsxs)("span",{className:"text-sm text-gray-500",children:["/ ",e.target]})]}),(0,r.jsx)(d.k,{value:e.units/e.target*100,className:"h-2"}),(0,r.jsxs)("div",{className:"flex justify-between text-xs text-gray-500",children:[(0,r.jsx)("span",{children:"Hiện c\xf3"}),(0,r.jsx)("span",{children:"Mục ti\xeau"})]})]}),(0,r.jsxs)("div",{className:"flex space-x-2 mt-4",children:[(0,r.jsxs)(n.$,{size:"sm",variant:"outline",className:"flex-1",children:[(0,r.jsx)(w.A,{className:"w-3 h-3 mr-1"}),"Sửa"]}),(0,r.jsxs)(n.$,{size:"sm",className:"flex-1",children:[(0,r.jsx)(A.A,{className:"w-3 h-3 mr-1"}),"Th\xeam"]})]})]})]},e.type))})}),(0,r.jsx)(c.av,{value:"requests",className:"space-y-6",children:(0,r.jsxs)(l.Zp,{children:[(0,r.jsxs)(l.aR,{children:[(0,r.jsx)(l.ZB,{children:"Quản l\xfd y\xeau cầu m\xe1u"}),(0,r.jsx)(l.BT,{children:"Tất cả y\xeau cầu m\xe1u trong hệ thống"})]}),(0,r.jsx)(l.Wu,{children:(0,r.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,r.jsx)(m.A,{className:"w-12 h-12 mx-auto mb-4"}),(0,r.jsx)("p",{children:"Chức năng quản l\xfd y\xeau cầu đang được ph\xe1t triển"})]})})]})}),(0,r.jsx)(c.av,{value:"settings",className:"space-y-6",children:(0,r.jsxs)(l.Zp,{children:[(0,r.jsx)(l.aR,{children:(0,r.jsxs)(l.ZB,{className:"flex items-center",children:[(0,r.jsx)(u.A,{className:"w-5 h-5 mr-2"}),"C\xe0i đặt hệ thống"]})}),(0,r.jsx)(l.Wu,{children:(0,r.jsx)("div",{className:"space-y-6",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"C\xe0i đặt chung"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium",children:"Tự động duyệt người d\xf9ng"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Tự động duyệt đăng k\xfd người hiến m\xe1u mới"})]}),(0,r.jsx)(n.$,{variant:"outline",size:"sm",children:"Bật"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium",children:"Th\xf4ng b\xe1o khẩn cấp"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Gửi th\xf4ng b\xe1o khi c\xf3 y\xeau cầu khẩn cấp"})]}),(0,r.jsx)(n.$,{variant:"outline",size:"sm",children:"Cấu h\xecnh"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium",children:"Sao lưu dữ liệu"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Tự động sao lưu dữ liệu h\xe0ng ng\xe0y"})]}),(0,r.jsx)(n.$,{variant:"outline",size:"sm",children:"C\xe0i đặt"})]})]})]})})})]})})]})]}),(0,r.jsx)(T.Footer,{})]})})}},4964:(e,s,t)=>{"use strict";t.d(s,{Xi:()=>d,av:()=>x,j7:()=>c,tU:()=>i});var r=t(5155),a=t(2115),l=t(704),n=t(3999);let i=l.bL,c=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(l.B8,{ref:s,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...a})});c.displayName=l.B8.displayName;let d=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(l.l9,{ref:s,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...a})});d.displayName=l.l9.displayName;let x=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(l.UC,{ref:s,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...a})});x.displayName=l.UC.displayName},8074:(e,s,t)=>{"use strict";t.d(s,{O:()=>d});var r=t(5155),a=t(2115),l=t(5695),n=t(9894),i=t(8482),c=t(1976);function d(e){let{children:s,requiredRole:t,redirectTo:d="/login"}=e,[x,m]=(0,a.useState)(null),[o,u]=(0,a.useState)(!0),h=(0,l.useRouter)();return((0,a.useEffect)(()=>{let e=(0,n.HW)();if(!e){h.push(d);return}if(t&&("user"===t&&"admin"===e.role||"user"!==t&&e.role!==t)){"admin"===e.role?h.push("/admin/dashboard"):h.push("/user/dashboard");return}m(e),u(!1)},[h,t,d]),o)?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsx)(i.Zp,{className:"w-full max-w-md",children:(0,r.jsxs)(i.Wu,{className:"flex flex-col items-center justify-center p-8",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-red-500 rounded-full flex items-center justify-center mb-4 animate-pulse",children:(0,r.jsx)(c.A,{className:"w-8 h-8 text-white"})}),(0,r.jsx)("p",{className:"text-gray-600",children:"Đang kiểm tra quyền truy cập..."})]})})}):x?(0,r.jsx)(r.Fragment,{children:s}):null}},8145:(e,s,t)=>{"use strict";t.d(s,{E:()=>i});var r=t(5155);t(2115);var a=t(2085),l=t(3999);let n=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:s,variant:t,...a}=e;return(0,r.jsx)("div",{className:(0,l.cn)(n({variant:t}),s),...a})}},8482:(e,s,t)=>{"use strict";t.d(s,{BT:()=>d,Wu:()=>x,ZB:()=>c,Zp:()=>n,aR:()=>i});var r=t(5155),a=t(2115),l=t(3999);let n=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a})});n.displayName="Card";let i=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",t),...a})});i.displayName="CardHeader";let c=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})});c.displayName="CardTitle";let d=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",t),...a})});d.displayName="CardDescription";let x=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",t),...a})});x.displayName="CardContent",a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",t),...a})}).displayName="CardFooter"}},e=>{var s=s=>e(e.s=s);e.O(0,[912,864,975,441,684,358],()=>s(742)),_N_E=e.O()}]);