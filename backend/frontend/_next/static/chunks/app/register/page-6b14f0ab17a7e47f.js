(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{646:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},1851:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>R});var t=a(5155),r=a(2115),l=a(7168),d=a(8482),n=a(9852),i=a(2714),c=a(5784),o=a(5139),m=a(9026),u=a(5339),p=a(1007),h=a(1264),f=a(2919),x=a(8749),g=a(2657),y=a(9420),v=a(8691),j=a(4516),N=a(646),b=a(6874),w=a.n(b),k=a(5695),C=a(7949),A=a(7746);function R(){let[e,s]=(0,r.useState)({name:"",email:"",password:"",confirmPassword:"",phone:"",address:"",bloodType:"",agreeTerms:!1}),[a,b]=(0,r.useState)(!1),[R,T]=(0,r.useState)(""),[P,E]=(0,r.useState)(!1),[F,q]=(0,r.useState)(!1),J=(0,k.useRouter)(),S=async s=>{if(s.preventDefault(),b(!0),T(""),e.password!==e.confirmPassword){T("Mật khẩu x\xe1c nhận kh\xf4ng khớp"),b(!1);return}if(!e.agreeTerms){T("Vui l\xf2ng đồng \xfd với điều khoản sử dụng"),b(!1);return}if(e.password.length<6){T("Mật khẩu phải c\xf3 \xedt nhất 6 k\xfd tự"),b(!1);return}try{let s=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.name,email:e.email,password:e.password,phone:e.phone,address:e.address,bloodType:e.bloodType})}),a=await s.json();a.success?J.push("/login?message=".concat(encodeURIComponent(a.message))):T(a.message)}catch(e){T("Đ\xe3 xảy ra lỗi. Vui l\xf2ng thử lại.")}finally{b(!1)}};return(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-red-50 to-white flex flex-col",children:[(0,t.jsx)(C.Header,{}),(0,t.jsx)("div",{className:"flex-1 flex items-center justify-center p-4 py-8",children:(0,t.jsx)("div",{className:"w-full max-w-2xl",children:(0,t.jsxs)(d.Zp,{className:"w-full shadow-lg",children:[(0,t.jsxs)(d.aR,{className:"text-center space-y-2",children:[(0,t.jsx)(d.ZB,{className:"text-2xl font-bold",children:"Đăng k\xfd t\xe0i khoản"}),(0,t.jsx)(d.BT,{children:"Tạo t\xe0i khoản để tham gia cộng đồng hiến m\xe1u"})]}),(0,t.jsxs)(d.Wu,{children:[(0,t.jsxs)("form",{onSubmit:S,className:"space-y-4",children:[R&&(0,t.jsxs)(m.Fc,{variant:"destructive",children:[(0,t.jsx)(u.A,{className:"h-4 w-4"}),(0,t.jsx)(m.TN,{children:R})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.J,{htmlFor:"name",children:"Họ v\xe0 t\xean *"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(p.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,t.jsx)(n.p,{id:"name",placeholder:"Nguyễn Văn A",value:e.name,onChange:e=>s(s=>({...s,name:e.target.value})),className:"pl-10",required:!0})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.J,{htmlFor:"email",children:"Email *"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(h.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,t.jsx)(n.p,{id:"email",type:"email",placeholder:"email@example.com",value:e.email,onChange:e=>s(s=>({...s,email:e.target.value})),className:"pl-10",required:!0})]})]})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.J,{htmlFor:"password",children:"Mật khẩu *"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(f.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,t.jsx)(n.p,{id:"password",type:P?"text":"password",placeholder:"••••••••",value:e.password,onChange:e=>s(s=>({...s,password:e.target.value})),className:"pl-10 pr-10",required:!0}),(0,t.jsx)("button",{type:"button",onClick:()=>E(!P),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:P?(0,t.jsx)(x.A,{className:"h-4 w-4"}):(0,t.jsx)(g.A,{className:"h-4 w-4"})})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.J,{htmlFor:"confirmPassword",children:"X\xe1c nhận mật khẩu *"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(f.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,t.jsx)(n.p,{id:"confirmPassword",type:F?"text":"password",placeholder:"••••••••",value:e.confirmPassword,onChange:e=>s(s=>({...s,confirmPassword:e.target.value})),className:"pl-10 pr-10",required:!0}),(0,t.jsx)("button",{type:"button",onClick:()=>q(!F),className:"absolute right-3 top-3 text-gray-400 hover:text-gray-600",children:F?(0,t.jsx)(x.A,{className:"h-4 w-4"}):(0,t.jsx)(g.A,{className:"h-4 w-4"})})]})]})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.J,{htmlFor:"phone",children:"Số điện thoại *"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(y.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,t.jsx)(n.p,{id:"phone",type:"tel",placeholder:"0901234567",value:e.phone,onChange:e=>s(s=>({...s,phone:e.target.value})),className:"pl-10",required:!0})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.J,{htmlFor:"bloodType",children:"Nh\xf3m m\xe1u *"}),(0,t.jsxs)(c.l6,{value:e.bloodType,onValueChange:e=>s(s=>({...s,bloodType:e})),children:[(0,t.jsx)(c.bq,{children:(0,t.jsx)(c.yv,{placeholder:"Chọn nh\xf3m m\xe1u"})}),(0,t.jsx)(c.gC,{children:["O-","O+","A-","A+","B-","B+","AB-","AB+"].map(e=>(0,t.jsx)(c.eb,{value:e,children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(v.A,{className:"w-4 h-4 mr-2 text-red-500"}),e]})},e))})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(i.J,{htmlFor:"address",children:"Địa chỉ *"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(j.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,t.jsx)(n.p,{id:"address",placeholder:"123 Đường ABC, Quận 1, TP.HCM",value:e.address,onChange:e=>s(s=>({...s,address:e.target.value})),className:"pl-10",required:!0})]})]}),(0,t.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,t.jsx)(o.S,{id:"agreeTerms",checked:e.agreeTerms,onCheckedChange:e=>s(s=>({...s,agreeTerms:e})),required:!0}),(0,t.jsxs)(i.J,{htmlFor:"agreeTerms",className:"text-sm leading-5",children:["T\xf4i đồng \xfd với"," ",(0,t.jsx)(w(),{href:"/terms",className:"text-red-600 hover:underline",children:"điều khoản sử dụng"})," ","v\xe0"," ",(0,t.jsx)(w(),{href:"/privacy",className:"text-red-600 hover:underline",children:"ch\xednh s\xe1ch bảo mật"}),". T\xf4i cam kết th\xf4ng tin cung cấp l\xe0 ch\xednh x\xe1c v\xe0 đồng \xfd tham gia hiến m\xe1u t\xecnh nguyện."]})]}),(0,t.jsx)(l.$,{type:"submit",className:"w-full",disabled:a,children:a?(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Đang đăng k\xfd..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(N.A,{className:"w-4 h-4 mr-2"}),"Đăng k\xfd t\xe0i khoản"]})})]}),(0,t.jsx)("div",{className:"text-center mt-6",children:(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Đ\xe3 c\xf3 t\xe0i khoản?"," ",(0,t.jsx)(w(),{href:"/login",className:"text-red-600 hover:underline font-medium",children:"Đăng nhập ngay"})]})})]})]})})}),(0,t.jsx)(A.Footer,{})]})}},2657:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},2714:(e,s,a)=>{"use strict";a.d(s,{J:()=>c});var t=a(5155),r=a(2115),l=a(968),d=a(2085),n=a(3999);let i=(0,d.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.b,{ref:s,className:(0,n.cn)(i(),a),...r})});c.displayName=l.b.displayName},2919:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},5139:(e,s,a)=>{"use strict";a.d(s,{S:()=>i});var t=a(5155),r=a(2115),l=a(6981),d=a(5196),n=a(3999);let i=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.bL,{ref:s,className:(0,n.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",a),...r,children:(0,t.jsx)(l.C1,{className:(0,n.cn)("flex items-center justify-center text-current"),children:(0,t.jsx)(d.A,{className:"h-4 w-4"})})})});i.displayName=l.bL.displayName},5339:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},5784:(e,s,a)=>{"use strict";a.d(s,{bq:()=>u,eb:()=>x,gC:()=>f,l6:()=>o,yv:()=>m});var t=a(5155),r=a(2115),l=a(8715),d=a(6474),n=a(7863),i=a(5196),c=a(3999);let o=l.bL;l.YJ;let m=l.WT,u=r.forwardRef((e,s)=>{let{className:a,children:r,...n}=e;return(0,t.jsxs)(l.l9,{ref:s,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...n,children:[r,(0,t.jsx)(l.In,{asChild:!0,children:(0,t.jsx)(d.A,{className:"h-4 w-4 opacity-50"})})]})});u.displayName=l.l9.displayName;let p=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.PP,{ref:s,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,t.jsx)(n.A,{className:"h-4 w-4"})})});p.displayName=l.PP.displayName;let h=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.wn,{ref:s,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",a),...r,children:(0,t.jsx)(d.A,{className:"h-4 w-4"})})});h.displayName=l.wn.displayName;let f=r.forwardRef((e,s)=>{let{className:a,children:r,position:d="popper",...n}=e;return(0,t.jsx)(l.ZL,{children:(0,t.jsxs)(l.UC,{ref:s,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===d&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:d,...n,children:[(0,t.jsx)(p,{}),(0,t.jsx)(l.LM,{className:(0,c.cn)("p-1","popper"===d&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,t.jsx)(h,{})]})})});f.displayName=l.UC.displayName,r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.JU,{ref:s,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...r})}).displayName=l.JU.displayName;let x=r.forwardRef((e,s)=>{let{className:a,children:r,...d}=e;return(0,t.jsxs)(l.q7,{ref:s,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...d,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(l.VF,{children:(0,t.jsx)(i.A,{className:"h-4 w-4"})})}),(0,t.jsx)(l.p4,{children:r})]})});x.displayName=l.q7.displayName,r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.wv,{ref:s,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",a),...r})}).displayName=l.wv.displayName},6981:(e,s,a)=>{"use strict";a.d(s,{C1:()=>C,bL:()=>k});var t=a(2115),r=a(6101),l=a(6081),d=a(5185),n=a(5845),i=a(5503),c=a(1275),o=a(8905),m=a(3655),u=a(5155),p="Checkbox",[h,f]=(0,l.A)(p),[x,g]=h(p),y=t.forwardRef((e,s)=>{let{__scopeCheckbox:a,name:l,checked:i,defaultChecked:c,required:o,disabled:p,value:h="on",onCheckedChange:f,form:g,...y}=e,[v,j]=t.useState(null),k=(0,r.s)(s,e=>j(e)),C=t.useRef(!1),A=!v||g||!!v.closest("form"),[R=!1,T]=(0,n.i)({prop:i,defaultProp:c,onChange:f}),P=t.useRef(R);return t.useEffect(()=>{let e=null==v?void 0:v.form;if(e){let s=()=>T(P.current);return e.addEventListener("reset",s),()=>e.removeEventListener("reset",s)}},[v,T]),(0,u.jsxs)(x,{scope:a,state:R,disabled:p,children:[(0,u.jsx)(m.sG.button,{type:"button",role:"checkbox","aria-checked":b(R)?"mixed":R,"aria-required":o,"data-state":w(R),"data-disabled":p?"":void 0,disabled:p,value:h,...y,ref:k,onKeyDown:(0,d.m)(e.onKeyDown,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,d.m)(e.onClick,e=>{T(e=>!!b(e)||!e),A&&(C.current=e.isPropagationStopped(),C.current||e.stopPropagation())})}),A&&(0,u.jsx)(N,{control:v,bubbles:!C.current,name:l,value:h,checked:R,required:o,disabled:p,form:g,style:{transform:"translateX(-100%)"},defaultChecked:!b(c)&&c})]})});y.displayName=p;var v="CheckboxIndicator",j=t.forwardRef((e,s)=>{let{__scopeCheckbox:a,forceMount:t,...r}=e,l=g(v,a);return(0,u.jsx)(o.C,{present:t||b(l.state)||!0===l.state,children:(0,u.jsx)(m.sG.span,{"data-state":w(l.state),"data-disabled":l.disabled?"":void 0,...r,ref:s,style:{pointerEvents:"none",...e.style}})})});j.displayName=v;var N=e=>{let{control:s,checked:a,bubbles:r=!0,defaultChecked:l,...d}=e,n=t.useRef(null),o=(0,i.Z)(a),m=(0,c.X)(s);t.useEffect(()=>{let e=n.current,s=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(o!==a&&s){let t=new Event("click",{bubbles:r});e.indeterminate=b(a),s.call(e,!b(a)&&a),e.dispatchEvent(t)}},[o,a,r]);let p=t.useRef(!b(a)&&a);return(0,u.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:null!=l?l:p.current,...d,tabIndex:-1,ref:n,style:{...e.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function b(e){return"indeterminate"===e}function w(e){return b(e)?"indeterminate":e?"checked":"unchecked"}var k=y,C=j},7436:(e,s,a)=>{Promise.resolve().then(a.bind(a,1851))},8482:(e,s,a)=>{"use strict";a.d(s,{BT:()=>c,Wu:()=>o,ZB:()=>i,Zp:()=>d,aR:()=>n});var t=a(5155),r=a(2115),l=a(3999);let d=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...r})});d.displayName="Card";let n=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",a),...r})});n.displayName="CardHeader";let i=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",a),...r})});i.displayName="CardTitle";let c=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",a),...r})});c.displayName="CardDescription";let o=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",a),...r})});o.displayName="CardContent",r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",a),...r})}).displayName="CardFooter"},8749:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(9946).A)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},9026:(e,s,a)=>{"use strict";a.d(s,{Fc:()=>i,TN:()=>c});var t=a(5155),r=a(2115),l=a(2085),d=a(3999);let n=(0,l.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),i=r.forwardRef((e,s)=>{let{className:a,variant:r,...l}=e;return(0,t.jsx)("div",{ref:s,role:"alert",className:(0,d.cn)(n({variant:r}),a),...l})});i.displayName="Alert",r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("h5",{ref:s,className:(0,d.cn)("mb-1 font-medium leading-none tracking-tight",a),...r})}).displayName="AlertTitle";let c=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)("div",{ref:s,className:(0,d.cn)("text-sm [&_p]:leading-relaxed",a),...r})});c.displayName="AlertDescription"},9852:(e,s,a)=>{"use strict";a.d(s,{p:()=>d});var t=a(5155),r=a(2115),l=a(3999);let d=r.forwardRef((e,s)=>{let{className:a,type:r,...d}=e;return(0,t.jsx)("input",{type:r,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:s,...d})});d.displayName="Input"}},e=>{var s=s=>e(e.s=s);e.O(0,[912,837,623,975,949,441,684,358],()=>s(7436)),_N_E=e.O()}]);