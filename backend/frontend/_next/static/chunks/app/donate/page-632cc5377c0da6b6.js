(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[272],{646:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});let s=(0,n(9946).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},968:(e,t,n)=>{"use strict";n.d(t,{b:()=>l});var s=n(2115),a=n(3655),r=n(5155),i=s.forwardRef((e,t)=>(0,r.jsx)(a.sG.label,{...e,ref:t,onMouseDown:t=>{var n;t.target.closest("button, input, select, textarea")||(null===(n=e.onMouseDown)||void 0===n||n.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var l=i},1007:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});let s=(0,n(9946).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},2714:(e,t,n)=>{"use strict";n.d(t,{J:()=>c});var s=n(5155),a=n(2115),r=n(968),i=n(2085),l=n(3999);let d=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)(r.b,{ref:t,className:(0,l.cn)(d(),n),...a})});c.displayName=r.b.displayName},3403:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});let s=n(3464).A.create({baseURL:"/api"})},5784:(e,t,n)=>{"use strict";n.d(t,{bq:()=>u,eb:()=>f,gC:()=>g,l6:()=>o,yv:()=>m});var s=n(5155),a=n(2115),r=n(8715),i=n(6474),l=n(7863),d=n(5196),c=n(3999);let o=r.bL;r.YJ;let m=r.WT,u=a.forwardRef((e,t)=>{let{className:n,children:a,...l}=e;return(0,s.jsxs)(r.l9,{ref:t,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...l,children:[a,(0,s.jsx)(r.In,{asChild:!0,children:(0,s.jsx)(i.A,{className:"h-4 w-4 opacity-50"})})]})});u.displayName=r.l9.displayName;let h=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)(r.PP,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",n),...a,children:(0,s.jsx)(l.A,{className:"h-4 w-4"})})});h.displayName=r.PP.displayName;let x=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)(r.wn,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",n),...a,children:(0,s.jsx)(i.A,{className:"h-4 w-4"})})});x.displayName=r.wn.displayName;let g=a.forwardRef((e,t)=>{let{className:n,children:a,position:i="popper",...l}=e;return(0,s.jsx)(r.ZL,{children:(0,s.jsxs)(r.UC,{ref:t,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:i,...l,children:[(0,s.jsx)(h,{}),(0,s.jsx)(r.LM,{className:(0,c.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,s.jsx)(x,{})]})})});g.displayName=r.UC.displayName,a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)(r.JU,{ref:t,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",n),...a})}).displayName=r.JU.displayName;let f=a.forwardRef((e,t)=>{let{className:n,children:a,...i}=e;return(0,s.jsxs)(r.q7,{ref:t,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...i,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(r.VF,{children:(0,s.jsx)(d.A,{className:"h-4 w-4"})})}),(0,s.jsx)(r.p4,{children:a})]})});f.displayName=r.q7.displayName,a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)(r.wv,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",n),...a})}).displayName=r.wv.displayName},6061:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>R});var s=n(5155),a=n(2115),r=n(7168),i=n(8482),l=n(9852),d=n(2714),c=n(5784),o=n(9474),m=n(8145),u=n(1976),h=n(5525),x=n(646),g=n(1007),f=n(6874),p=n.n(f),v=n(7949),b=n(7746),j=n(395),N=n(8074);let y=0,w=new Map,k=e=>{if(w.has(e))return;let t=setTimeout(()=>{w.delete(e),S({type:"REMOVE_TOAST",toastId:e})},1e6);w.set(e,t)},_=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:n}=t;return n?k(n):e.toasts.forEach(e=>{k(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===n||void 0===n?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},T=[],A={toasts:[]};function S(e){A=_(A,e),T.forEach(e=>{e(A)})}function C(e){let{...t}=e,n=(y=(y+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>S({type:"DISMISS_TOAST",toastId:n});return S({type:"ADD_TOAST",toast:{...t,id:n,open:!0,onOpenChange:e=>{e||s()}}}),{id:n,dismiss:s,update:e=>S({type:"UPDATE_TOAST",toast:{...e,id:n}})}}var D=n(3403);function R(){let{user:e,isLoading:t}=(0,j.A)(),n=new Date,f="".concat(n.getFullYear(),"-").concat(String(n.getMonth()+1).padStart(2,"0"),"-").concat(String(n.getDate()).padStart(2,"0")),y=new Date;y.setMonth(y.getMonth()+3);let w="".concat(y.getFullYear(),"-").concat(String(y.getMonth()+1).padStart(2,"0"),"-").concat(String(y.getDate()).padStart(2,"0")),[k,_]=(0,a.useState)(!1),[T,A]=(0,a.useState)(!1),[S,R]=(0,a.useState)(),[E,V]=(0,a.useState)({available_date:f,available_time_range:{from:"",to:""},amount_offered:"",components_offered:[],hospital:"",notes:""}),L=e=>{let t=E.components_offered.includes(e)?E.components_offered.filter(t=>t!==e):[...E.components_offered,e];V(e=>({...e,components_offered:t}))};if(t)return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-pink-50 to-rose-100 flex flex-col",children:[(0,s.jsx)(v.Header,{}),(0,s.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Đang tải..."})]})})]});if(!e)return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-pink-50 to-rose-100 flex flex-col",children:[(0,s.jsx)(v.Header,{}),(0,s.jsx)("div",{className:"flex-1 flex items-center justify-center p-4",children:(0,s.jsxs)(i.Zp,{className:"w-full max-w-md",children:[(0,s.jsxs)(i.aR,{className:"text-center",children:[(0,s.jsx)(i.ZB,{className:"text-red-600",children:"Vui l\xf2ng đăng nhập"}),(0,s.jsx)(i.BT,{children:"Bạn cần đăng nhập để đăng k\xfd hiến m\xe1u."})]}),(0,s.jsx)(i.Wu,{className:"text-center",children:(0,s.jsx)(p(),{href:"/login",children:(0,s.jsx)(r.$,{className:"bg-red-600 hover:bg-red-700",children:"Đăng nhập ngay"})})})]})})]});if("donor"!==e.role)return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-pink-50 to-rose-100 flex flex-col",children:[(0,s.jsx)(v.Header,{}),(0,s.jsx)("div",{className:"flex-1 flex items-center justify-center p-4",children:(0,s.jsx)(i.Zp,{className:"w-full max-w-md",children:(0,s.jsxs)(i.aR,{className:"text-center",children:[(0,s.jsx)(i.ZB,{className:"text-red-600",children:"Kh\xf4ng c\xf3 quyền truy cập"}),(0,s.jsx)(i.BT,{children:"Trang n\xe0y chỉ d\xe0nh cho người hiến m\xe1u. Bạn cần đăng k\xfd l\xe0 người hiến m\xe1u để sử dụng t\xednh năng n\xe0y."})]})})})]});let F=async t=>{if(t.preventDefault(),!k){_(!0);try{if(!E.available_date){C({variant:"destructive",title:"Lỗi",description:"Vui l\xf2ng chọn ng\xe0y hiến m\xe1u."});return}let t=new Date(E.available_date),n=new Date(f),s=new Date(w);if(t<n){C({variant:"destructive",title:"Lỗi",description:"Ng\xe0y hiến m\xe1u kh\xf4ng thể l\xe0 ng\xe0y trong qu\xe1 khứ."});return}if(t>s){C({variant:"destructive",title:"Lỗi",description:"Ng\xe0y hiến m\xe1u kh\xf4ng thể qu\xe1 3 th\xe1ng từ h\xf4m nay."});return}if(!E.available_time_range.from||!E.available_time_range.to){C({variant:"destructive",title:"Lỗi",description:"Vui l\xf2ng chọn khung giờ hiến m\xe1u."});return}if(!E.amount_offered){C({variant:"destructive",title:"Lỗi",description:"Vui l\xf2ng nhập lượng m\xe1u dự kiến hiến (ml)."});return}if(console.log("Submitting form with user:",e),console.log("Form data:",E),console.log("API Base URL:","/api"),!e||!e._id){C({variant:"destructive",title:"Lỗi",description:"Vui l\xf2ng đăng nhập trước khi đăng k\xfd hiến m\xe1u!"});return}if(console.log("Current user:",{id:e._id,role:e.role,email:e.email,full_name:e.full_name}),0===E.components_offered.length){C({variant:"destructive",title:"Lỗi",description:"Vui l\xf2ng chọn \xedt nhất một th\xe0nh phần m\xe1u để hiến."});return}let a={donor_id:e._id,available_date:E.available_date,available_time_range:E.available_time_range,amount_offered:parseInt(E.amount_offered),components_offered:E.components_offered,comment:E.notes};console.log("Submitting donor request:",a);let r=await D.A.post("/users/donor/request",a);201===r.status&&(A(!0),C({title:"\uD83C\uDF89 Đăng k\xfd hiến m\xe1u th\xe0nh c\xf4ng!",description:"Cảm ơn bạn đ\xe3 đăng k\xfd hiến ".concat(E.amount_offered,"ml m\xe1u v\xe0o ng\xe0y ").concat(E.available_date," từ ").concat(E.available_time_range.from," - ").concat(E.available_time_range.to,". Ch\xfang t\xf4i sẽ li\xean hệ với bạn sớm nhất!"),duration:6e3}),setTimeout(()=>{C({title:"\uD83E\uDE78 Bạn l\xe0 người h\xf9ng!",description:"H\xe0nh động của bạn c\xf3 thể cứu sống 3 người. H\xe3y theo d\xf5i email để nhận th\xf4ng b\xe1o từ ch\xfang t\xf4i.",duration:5e3})},2e3),setTimeout(()=>{V({available_date:f,available_time_range:{from:"",to:""},amount_offered:"",components_offered:[],hospital:"",notes:""}),A(!1)},3e3))}catch(t){var n,s,a,r,i,l,d,c,o,m,u,h,x,g;console.error("Error submitting donor request:",t),console.error("Error response:",null===(n=t.response)||void 0===n?void 0:n.data);let e="Đ\xe3 xảy ra lỗi khi gửi y\xeau cầu.";(null===(s=t.response)||void 0===s?void 0:s.status)===404?e=(null===(o=t.response)||void 0===o?void 0:null===(c=o.data)||void 0===c?void 0:null===(d=c.message)||void 0===d?void 0:d.includes("User not found"))?"Kh\xf4ng t\xecm thấy th\xf4ng tin người d\xf9ng. Vui l\xf2ng đăng nhập lại.":(null===(h=t.response)||void 0===h?void 0:null===(u=h.data)||void 0===u?void 0:null===(m=u.message)||void 0===m?void 0:m.includes("not a valid donor"))?"T\xe0i khoản của bạn chưa được thiết lập để hiến m\xe1u. Vui l\xf2ng li\xean hệ quản trị vi\xean.":"Endpoint kh\xf4ng tồn tại. Vui l\xf2ng kiểm tra kết nối server.":(null===(a=t.response)||void 0===a?void 0:a.status)===400?e=(null===(g=t.response)||void 0===g?void 0:null===(x=g.data)||void 0===x?void 0:x.message)||"Th\xf4ng tin kh\xf4ng hợp lệ. Vui l\xf2ng kiểm tra lại.":(null===(r=t.response)||void 0===r?void 0:r.status)===500?e="Lỗi hệ thống. Vui l\xf2ng thử lại sau.":"ECONNREFUSED"===t.code||t.message.includes("Network Error")?e="Kh\xf4ng thể kết nối đến server. Vui l\xf2ng kiểm tra server backend c\xf3 đang chạy kh\xf4ng.":(null===(l=t.response)||void 0===l?void 0:null===(i=l.data)||void 0===i?void 0:i.message)&&(e=t.response.data.message),C({variant:"destructive",title:"Lỗi",description:e})}finally{_(!1)}}};return(0,s.jsx)(N.O,{requiredRole:"donor",children:(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-red-50 to-white",children:[(0,s.jsx)(v.Header,{}),(0,s.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)(u.A,{className:"w-8 h-8 text-white"})}),(0,s.jsx)(m.E,{className:"mb-4 bg-red-100 text-red-800",children:"\uD83E\uDE78 Trở th\xe0nh người h\xf9ng cứu sinh mạng"}),(0,s.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Đăng k\xfd hiến m\xe1u"}),(0,s.jsx)("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Một giọt m\xe1u cho đi, một sinh mạng ở lại. H\xe3y đăng k\xfd để trở th\xe0nh người hiến m\xe1u t\xecnh nguyện."})]}),(0,s.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8",children:[(0,s.jsx)("div",{className:"lg:col-span-1",children:(0,s.jsxs)(i.Zp,{className:"sticky top-24",children:[(0,s.jsx)(i.aR,{children:(0,s.jsxs)(i.ZB,{className:"flex items-center",children:[(0,s.jsx)(h.A,{className:"w-5 h-5 mr-2 text-red-600"}),"Điều kiện hiến m\xe1u"]})}),(0,s.jsxs)(i.Wu,{children:[(0,s.jsx)("ul",{className:"space-y-3",children:["Tuổi từ 18-60, c\xe2n nặng tối thiểu 45kg","Kh\xf4ng mắc c\xe1c bệnh truyền nhiễm","Kh\xf4ng sử dụng thuốc kh\xe1ng sinh trong 7 ng\xe0y","Kh\xf4ng hiến m\xe1u trong v\xf2ng 3 th\xe1ng gần đ\xe2y","Sức khỏe tốt, kh\xf4ng c\xf3 triệu chứng cảm c\xfam","Đăng k\xfd trước từ 1 ng\xe0y đến 3 th\xe1ng"].map((e,t)=>(0,s.jsxs)("li",{className:"flex items-start space-x-2",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full mt-2 flex-shrink-0"}),(0,s.jsx)("span",{className:"text-sm text-gray-600",children:e})]},t))}),(0,s.jsxs)("div",{className:"mt-6 p-4 bg-red-50 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center mb-2",children:[(0,s.jsx)(x.A,{className:"w-5 h-5 text-red-600 mr-2"}),(0,s.jsx)("h4",{className:"font-semibold text-red-800",children:"Lưu \xfd quan trọng"})]}),(0,s.jsx)("p",{className:"text-sm text-red-700",children:"Vui l\xf2ng đọc kỹ c\xe1c điều kiện v\xe0 tư vấn với b\xe1c sĩ nếu c\xf3 thắc mắc về sức khỏe."})]})]})]})}),(0,s.jsx)("div",{className:"lg:col-span-2",children:(0,s.jsxs)(i.Zp,{children:[(0,s.jsxs)(i.aR,{children:[(0,s.jsxs)(i.ZB,{className:"flex items-center",children:[(0,s.jsx)(g.A,{className:"w-5 h-5 mr-2 text-red-600"}),"Th\xf4ng tin đăng k\xfd"]}),(0,s.jsx)(i.BT,{children:"Vui l\xf2ng điền đầy đủ th\xf4ng tin để ch\xfang t\xf4i c\xf3 thể li\xean hệ khi cần thiết"})]}),(0,s.jsxs)(i.Wu,{children:[T&&(0,s.jsxs)("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center mb-2",children:[(0,s.jsx)(x.A,{className:"w-5 h-5 text-green-600 mr-2"}),(0,s.jsx)("h3",{className:"font-semibold text-green-800",children:"Đăng k\xfd th\xe0nh c\xf4ng! \uD83C\uDF89"})]}),(0,s.jsx)("p",{className:"text-sm text-green-700 mb-2",children:"Cảm ơn bạn đ\xe3 đăng k\xfd hiến m\xe1u t\xecnh nguyện! Ch\xfang t\xf4i sẽ li\xean hệ với bạn trong thời gian sớm nhất."}),(0,s.jsxs)("div",{className:"flex items-center text-sm text-green-600",children:[(0,s.jsx)(u.A,{className:"w-4 h-4 mr-1"}),(0,s.jsx)("span",{children:"Bạn c\xf3 thể cứu sống đến 3 người bằng h\xe0nh động n\xe0y!"})]})]}),(0,s.jsx)("form",{onSubmit:F,className:"space-y-6",children:(0,s.jsx)("div",{className:"space-y-4",children:(0,s.jsx)("div",{className:"max-w-xl mx-auto p-6",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(d.J,{htmlFor:"available_date",children:"Ng\xe0y hiến m\xe1u"}),(0,s.jsx)(l.p,{type:"date",id:"available_date",min:f,max:w,value:E.available_date,onChange:e=>V(t=>({...t,available_date:e.target.value})),required:!0}),(0,s.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Chọn ng\xe0y trong v\xf2ng 3 th\xe1ng tới (từ ",new Date(f).toLocaleDateString("vi-VN")," đến ",new Date(w).toLocaleDateString("vi-VN"),")"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d.J,{htmlFor:"timeSlot",children:"Khung giờ hiến m\xe1u"}),(0,s.jsxs)(c.l6,{value:"".concat(E.available_time_range.from," - ").concat(E.available_time_range.to),onValueChange:e=>{let[t,n]=e.split(" - ");V(e=>({...e,available_time_range:{from:t,to:n}}))},children:[(0,s.jsx)(c.bq,{children:(0,s.jsx)(c.yv,{placeholder:"Chọn khung giờ ph\xf9 hợp"})}),(0,s.jsx)(c.gC,{children:["8:00 - 10:00","10:00 - 12:00","12:00 - 14:00","14:00 - 16:00","16:00 - 18:00","18:00 - 20:00"].map(e=>(0,s.jsx)(c.eb,{value:e,children:e},e))})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d.J,{htmlFor:"amount",children:"Lượng m\xe1u (ml)"}),(0,s.jsx)(l.p,{type:"number",id:"amount",value:E.amount_offered,onChange:e=>V(t=>({...t,amount_offered:e.target.value})),placeholder:"V\xed dụ: 350",required:!0,min:200,max:500}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Lượng m\xe1u ti\xeau chuẩn: 200-500ml (khuyến nghị: 350ml)"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d.J,{children:"Th\xe0nh phần muốn hiến"}),(0,s.jsx)("div",{className:"flex gap-4 flex-wrap mt-1",children:["whole","RBC","plasma","platelet"].map(e=>(0,s.jsxs)("label",{className:"flex items-center gap-1",children:[(0,s.jsx)("input",{type:"checkbox",checked:E.components_offered.includes(e),onChange:()=>L(e)}),"whole"===e?"M\xe1u to\xe0n phần":"RBC"===e?"Hồng cầu":"plasma"===e?"Huyết tương":"platelet"===e?"Tiểu cầu":e]},e))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d.J,{htmlFor:"notes",children:"Ghi ch\xfa th\xeam"}),(0,s.jsx)(o.T,{id:"notes",value:E.notes,onChange:e=>V(t=>({...t,notes:e.target.value})),placeholder:"Ghi ch\xfa đặc biệt (nếu c\xf3)..."})]}),(0,s.jsx)(r.$,{type:"submit",disabled:k||T,className:"w-full transition-all duration-300 ".concat(T?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"),children:k?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Đang gửi..."]}):T?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x.A,{className:"w-4 h-4 mr-2"}),"Đăng k\xfd th\xe0nh c\xf4ng!"]}):"Đăng k\xfd hiến m\xe1u"})]})})})})]})]})})]}),(0,s.jsx)("div",{className:"mt-12 text-center",children:(0,s.jsx)(i.Zp,{className:"bg-gradient-to-r from-red-500 to-pink-600 text-white border-0",children:(0,s.jsxs)(i.Wu,{className:"p-8",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"T\xecm điểm hiến m\xe1u gần bạn"}),(0,s.jsx)("p",{className:"text-red-100 mb-6 max-w-2xl mx-auto",children:"Kh\xe1m ph\xe1 c\xe1c điểm hiến m\xe1u v\xe0 bệnh viện gần khu vực của bạn. T\xecm địa điểm thuận tiện nhất để thực hiện việc hiến m\xe1u."}),(0,s.jsx)(p(),{href:"/check-map",children:(0,s.jsx)(r.$,{className:"bg-white text-red-600 hover:bg-red-50 font-semibold px-8 py-3 text-lg",children:"\uD83D\uDDFA️ Xem bản đồ điểm hiến m\xe1u"})})]})})}),(0,s.jsxs)("div",{className:"mt-12 grid md:grid-cols-3 gap-6",children:[(0,s.jsx)(i.Zp,{className:"bg-blue-50 border-blue-200",children:(0,s.jsxs)(i.Wu,{className:"p-6 text-center",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)(u.A,{className:"w-6 h-6 text-white"})}),(0,s.jsx)("h3",{className:"font-semibold text-blue-800 mb-2",children:"Quy tr\xecnh an to\xe0n"}),(0,s.jsx)("p",{className:"text-sm text-blue-700",children:"Tất cả dụng cụ đều v\xf4 tr\xf9ng, sử dụng một lần v\xe0 được ti\xeau hủy ngay sau khi sử dụng."})]})}),(0,s.jsx)(i.Zp,{className:"bg-green-50 border-green-200",children:(0,s.jsxs)(i.Wu,{className:"p-6 text-center",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)(h.A,{className:"w-6 h-6 text-white"})}),(0,s.jsx)("h3",{className:"font-semibold text-green-800 mb-2",children:"Kiểm tra sức khỏe"}),(0,s.jsx)("p",{className:"text-sm text-green-700",children:"B\xe1c sĩ sẽ kiểm tra sức khỏe tổng qu\xe1t trước khi tiến h\xe0nh hiến m\xe1u."})]})}),(0,s.jsx)(i.Zp,{className:"bg-purple-50 border-purple-200",children:(0,s.jsxs)(i.Wu,{className:"p-6 text-center",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)(x.A,{className:"w-6 h-6 text-white"})}),(0,s.jsx)("h3",{className:"font-semibold text-purple-800 mb-2",children:"Chăm s\xf3c sau hiến"}),(0,s.jsx)("p",{className:"text-sm text-purple-700",children:"Được nghỉ ngơi v\xe0 cung cấp đồ ăn nhẹ để phục hồi sức khỏe."})]})})]})]})}),(0,s.jsx)(b.Footer,{})]})})}},7083:(e,t,n)=>{Promise.resolve().then(n.bind(n,6061))},8074:(e,t,n)=>{"use strict";n.d(t,{O:()=>c});var s=n(5155),a=n(2115),r=n(5695),i=n(9894),l=n(8482),d=n(1976);function c(e){let{children:t,requiredRole:n,redirectTo:c="/login"}=e,[o,m]=(0,a.useState)(null),[u,h]=(0,a.useState)(!0),x=(0,r.useRouter)();return((0,a.useEffect)(()=>{let e=(0,i.HW)();if(!e){x.push(c);return}if(n&&("user"===n&&"admin"===e.role||"user"!==n&&e.role!==n)){"admin"===e.role?x.push("/admin/dashboard"):"staff"===e.role?x.push("/staff/dashboard"):x.push("/user/dashboard");return}m(e),h(!1)},[x,n,c]),u)?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,s.jsx)(l.Zp,{className:"w-full max-w-md",children:(0,s.jsxs)(l.Wu,{className:"flex flex-col items-center justify-center p-8",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-red-500 rounded-full flex items-center justify-center mb-4 animate-pulse",children:(0,s.jsx)(d.A,{className:"w-8 h-8 text-white"})}),(0,s.jsx)("p",{className:"text-gray-600",children:"Đang kiểm tra quyền truy cập..."})]})})}):o?(0,s.jsx)(s.Fragment,{children:t}):null}},8145:(e,t,n)=>{"use strict";n.d(t,{E:()=>l});var s=n(5155);n(2115);var a=n(2085),r=n(3999);let i=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:n,...a}=e;return(0,s.jsx)("div",{className:(0,r.cn)(i({variant:n}),t),...a})}},8482:(e,t,n)=>{"use strict";n.d(t,{BT:()=>c,Wu:()=>o,ZB:()=>d,Zp:()=>i,aR:()=>l});var s=n(5155),a=n(2115),r=n(3999);let i=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",n),...a})});i.displayName="Card";let l=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",n),...a})});l.displayName="CardHeader";let d=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",n),...a})});d.displayName="CardTitle";let c=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("text-sm text-muted-foreground",n),...a})});c.displayName="CardDescription";let o=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("p-6 pt-0",n),...a})});o.displayName="CardContent",a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,r.cn)("flex items-center p-6 pt-0",n),...a})}).displayName="CardFooter"},9474:(e,t,n)=>{"use strict";n.d(t,{T:()=>i});var s=n(5155),a=n(2115),r=n(3999);let i=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)("textarea",{className:(0,r.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:t,...a})});i.displayName="Textarea"},9852:(e,t,n)=>{"use strict";n.d(t,{p:()=>i});var s=n(5155),a=n(2115),r=n(3999);let i=a.forwardRef((e,t)=>{let{className:n,type:a,...i}=e;return(0,s.jsx)("input",{type:a,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:t,...i})});i.displayName="Input"}},e=>{var t=t=>e(e.s=t);e.O(0,[6237,6222,3464,461,1975,7949,8441,1684,7358],()=>t(7083)),_N_E=e.O()}]);