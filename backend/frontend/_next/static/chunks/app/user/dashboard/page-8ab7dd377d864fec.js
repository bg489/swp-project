(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7503],{381:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});let l=(0,t(9946).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},624:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>B});var l=t(5155),a=t(8074),r=t(6766),n=t(8482),i=t(7168),d=t(8145),c=t(1397),o=t(5695),x=t(5784),m=t(4964),h=t(1976),u=t(4186),g=t(9946);let p=(0,g.A)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),b=(0,g.A)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);var f=t(1007),v=t(7340),j=t(4835),N=t(8691),y=t(9074),w=t(646),k=t(9420),A=t(5339),D=t(3717),C=t(381),_=t(6874),T=t.n(_),E=t(395),M=t(7746),R=t(2115),S=t(3403),L=t(3568);function B(){var e,s,t;let g=(0,o.useRouter)(),{user:_,logout:B,isLoading:H}=(0,E.A)(),[q,V]=(0,R.useState)([]),[K,F]=(0,R.useState)(!1),[U,G]=(0,R.useState)(null),[z,P]=(0,R.useState)({}),[I,Z]=(0,R.useState)({count:0,data:[]}),[W,Y]=(0,R.useState)("blood-request-history"),[O,X]=(0,R.useState)([]),[$,J]=(0,R.useState)([]),[Q,ee]=(0,R.useState)(0),[es,et]=(0,R.useState)(null),[el,ea]=(0,R.useState)(null);if((0,R.useEffect)(()=>{async function e(){var e,s,t,l,a,r,n;if((null==_?void 0:_.role)==="donor")try{let s=await S.A.get("/users/donor-profile/active/".concat(_._id));et(s.data.profile);let t=null===(e=s.data.profile)||void 0===e?void 0:e.hospital;if(t){let e=await S.A.get("/hospital/".concat(t));G(e.data.hospital)}let l=await S.A.get("/users/donations/donor-id/".concat(_._id));Z(l.data)}catch(e){console.error("Failed to fetch donor profile:",e),(null===(s=e.response)||void 0===s?void 0:s.status)===404?console.log("User does not have a donor profile yet"):console.error("Unexpected error:",null===(t=e.response)||void 0===t?void 0:t.data)}else if((null==_?void 0:_.role)==="recipient")try{let e=await S.A.get("/users/recipient-profile/active/".concat(_._id));ea(e.data.profile);let s=null===(l=e.data.profile)||void 0===l?void 0:l.hospital;if(s){let e=await S.A.get("/hospital/".concat(s));G(e.data.hospital)}let t=await S.A.get("/recipient/blood-requests/".concat(_._id)),r=(null===(a=t.data)||void 0===a?void 0:a.requests)||[];if(Array.isArray(r)){V(r);let e=r.map(async e=>{try{let s=await S.A.get("/hospital/".concat(e.hospital));return[e._id,s.data.hospital.name]}catch(s){return console.error("Lỗi khi lấy t\xean bệnh viện:",s),[e._id,"Kh\xf4ng x\xe1c định"]}}),s=await Promise.all(e),t=Object.fromEntries(s);P(t);let l=await S.A.get("/users/donations/recipient-id/".concat(_._id));X(l.data.data);let a=await S.A.get("/users/donations-warehouse/recipient-id/".concat(_._id));J(a.data.data),ee(l.data.count+a.data.count)}else console.error("Data is not array:",r),V([])}catch(e){console.error("Failed to fetch recipient profile or hospital:",e),(null===(r=e.response)||void 0===r?void 0:r.status)===404?console.log("User does not have a recipient profile yet"):console.error("Unexpected error:",null===(n=e.response)||void 0===n?void 0:n.data)}}(null==_?void 0:_._id)&&e()},[_]),H||!_)return(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"w-16 h-16 bg-red-500 rounded-full flex items-center justify-center mb-4 animate-pulse mx-auto",children:(0,l.jsx)(h.A,{className:"w-8 h-8 text-white"})}),(0,l.jsx)("p",{className:"text-gray-600",children:"Đang tải dashboard..."})]})});let er=e=>{if(!e)return"Chưa c\xf3 th\xf4ng tin";let s=new Date(e),t=String(s.getDate()).padStart(2,"0"),l=String(s.getMonth()+1).padStart(2,"0"),a=s.getFullYear();return"".concat(t,"/").concat(l,"/").concat(a)};function en(e){return({pending:"Chờ duyệt",approved:"Đ\xe3 duyệt",matched:"Đ\xe3 gh\xe9p",in_progress:"Đang xử l\xfd",completed:"Ho\xe0n tất",cancelled:"Đ\xe3 hủy",rejected:"Từ chối",scheduled:"Đ\xe3 l\xean lịch",fulfilled:"Đ\xe3 thực hiện"})[e]||e}function ei(e){return({whole:"M\xe1u to\xe0n phần",plasma:"Huyết tương",rbc:"Hồng cầu",platelet:"Tiểu cầu"})[null==e?void 0:e.toLowerCase()]||e}let ed=async()=>{F(!0),g.push("/user/dashboard/edit"),F(!1)},ec=async()=>{F(!0),await S.A.post("/otp/send",{email:null==_?void 0:_.email}),g.push("/user/dashboard/otp?email=".concat(null==_?void 0:_.email)),F(!1)},eo=(()=>{var e,s,t,l,a;I.count;let r=I.data.filter(e=>"completed"===e.status).length;return[{id:1,name:"Người hiến đầu ti\xean",description:"Ho\xe0n th\xe0nh lần hiến m\xe1u đầu ti\xean",icon:"\uD83C\uDFC6",earned:r>=1,earnedDate:r>=1?er(null===(e=I.data.find(e=>"completed"===e.status))||void 0===e?void 0:e.donation_date):null},{id:2,name:"Người h\xf9ng Đồng",description:"Hiến m\xe1u 3 lần",icon:"\uD83E\uDD49",earned:r>=3,earnedDate:r>=3?er(null===(s=I.data.filter(e=>"completed"===e.status)[2])||void 0===s?void 0:s.donation_date):null,progress:Math.min(r/3*100,100)},{id:3,name:"Người h\xf9ng Bạc",description:"Hiến m\xe1u 5 lần",icon:"\uD83E\uDD48",earned:r>=5,earnedDate:r>=5?er(null===(t=I.data.filter(e=>"completed"===e.status)[4])||void 0===t?void 0:t.donation_date):null,progress:Math.min(r/5*100,100)},{id:4,name:"Người h\xf9ng V\xe0ng",description:"Hiến m\xe1u 10 lần",icon:"\uD83E\uDD47",earned:r>=10,earnedDate:r>=10?er(null===(l=I.data.filter(e=>"completed"===e.status)[9])||void 0===l?void 0:l.donation_date):null,progress:Math.min(r/10*100,100)},{id:5,name:"Người h\xf9ng Kim cương",description:"Hiến m\xe1u 20 lần",icon:"\uD83D\uDC8E",earned:r>=20,earnedDate:r>=20?er(null===(a=I.data.filter(e=>"completed"===e.status)[19])||void 0===a?void 0:a.donation_date):null,progress:Math.min(r/20*100,100)},{id:6,name:"Nh\xe0 từ thiện",description:"Tổng thể t\xedch hiến m\xe1u đạt 2000ml",icon:"❤️",earned:I.data.reduce((e,s)=>"completed"===s.status?e+(s.volume||0):e,0)>=2e3,earnedDate:null,progress:Math.min(I.data.reduce((e,s)=>"completed"===s.status?e+(s.volume||0):e,0)/2e3*100,100)}]})(),ex=(()=>{var e,s,t,l,a,r;let n=q.length,i=q.filter(e=>"completed"===e.status||"matched"===e.status).length,d=q.filter(e=>e.is_emergency).length;return[{id:1,name:"Người nhận đầu ti\xean",description:"Ho\xe0n tất lần nhận m\xe1u đầu ti\xean",icon:"\uD83E\uDE78",earned:Q>=1,earnedDate:Q>=1?er((null===(e=O[0])||void 0===e?void 0:e.donation_date)||(null===(s=$[0])||void 0===s?void 0:s.donation_date)):null},{id:2,name:"Người nhận t\xedch cực",description:"Đ\xe3 tạo 3 y\xeau cầu m\xe1u th\xe0nh c\xf4ng",icon:"✅",earned:i>=3,earnedDate:i>=3?er(null===(t=q.filter(e=>"completed"===e.status||"matched"===e.status)[2])||void 0===t?void 0:t.createdAt):null,progress:Math.min(i/3*100,100)},{id:3,name:"Người nhận ki\xean tr\xec",description:"Đ\xe3 nhận m\xe1u 5 lần",icon:"\uD83D\uDCAA",earned:Q>=5,earnedDate:null,progress:Math.min(Q/5*100,100)},{id:4,name:"Y\xeau cầu khẩn cấp",description:"Đ\xe3 tạo y\xeau cầu khẩn cấp",icon:"\uD83D\uDEA8",earned:d>0,earnedDate:d>0?er(null===(l=q.find(e=>e.is_emergency))||void 0===l?void 0:l.createdAt):null,progress:100*(d>0)},{id:5,name:"Quản l\xfd tốt",description:"Tạo 10 y\xeau cầu m\xe1u",icon:"\uD83D\uDCCB",earned:n>=10,earnedDate:n>=10?er(null===(a=q[9])||void 0===a?void 0:a.createdAt):null,progress:Math.min(n/10*100,100)},{id:6,name:"Cộng đồng c\xf9ng tiến",description:"Sử dụng hệ thống thường xuy\xean (5+ y\xeau cầu)",icon:"\uD83E\uDD1D",earned:n>=5,earnedDate:n>=5?er(null===(r=q[4])||void 0===r?void 0:r.createdAt):null,progress:Math.min(n/5*100,100)}]})(),em=e=>{switch(e){case"completed":case"fulfilled":return"bg-green-100 text-green-800";case"confirmed":case"approved":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";case"scheduled":case"in_progress":return"bg-orange-100 text-orange-800";case"cancelled":case"rejected":return"bg-red-100 text-red-800";case"matched":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};return(0,l.jsx)(a.O,{requiredRole:"user",children:(0,l.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[(0,l.jsx)("header",{className:"bg-white border-b sticky top-0 z-50",children:(0,l.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsxs)(T(),{href:"/",className:"flex items-center space-x-2",children:[(0,l.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center",children:(0,l.jsx)(r.default,{src:"/images/logo.webp",alt:"ScαrletBlood Logo",width:32,height:32,className:"w-full h-full object-cover"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"ScαrletBlood"}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:"Bảng điều khiển c\xe1 nh\xe2n"})]})]}),(null==_?void 0:_.role)==="donor"&&(0,l.jsxs)(d.E,{className:"bg-blue-100 text-blue-800",children:[(0,l.jsx)(f.A,{className:"w-3 h-3 mr-1"}),"Người hiến m\xe1u"]}),(null==_?void 0:_.role)==="recipient"&&(0,l.jsxs)(d.E,{className:"bg-blue-100 text-green-800",children:[(0,l.jsx)(f.A,{className:"w-3 h-3 mr-1"}),"Người nhận m\xe1u"]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsxs)("span",{className:"text-sm text-gray-600",children:["Xin ch\xe0o, ",(0,l.jsx)("strong",{children:null==_?void 0:_.full_name})]}),(0,l.jsx)(i.$,{variant:"outline",size:"sm",asChild:!0,children:(0,l.jsxs)(T(),{href:"/",children:[(0,l.jsx)(v.A,{className:"w-4 h-4 mr-2"}),"Về trang chủ"]})}),(0,l.jsxs)(i.$,{variant:"outline",size:"sm",onClick:()=>{B()},children:[(0,l.jsx)(j.A,{className:"w-4 h-4 mr-2"}),"Đăng xuất"]})]})]})})}),(0,l.jsx)("div",{className:"container mx-auto px-4 py-8 flex-grow",children:(0,l.jsxs)(m.tU,{defaultValue:"history",className:"space-y-6",children:[(0,l.jsxs)(m.j7,{className:"grid w-full grid-cols-3",children:[(0,l.jsx)(m.Xi,{value:"history",children:"Lịch hẹn"}),(0,l.jsx)(m.Xi,{value:"achievements",children:"Th\xe0nh t\xedch"}),(0,l.jsx)(m.Xi,{value:"profile",children:"Hồ sơ"})]}),(0,l.jsx)(m.av,{value:"history",className:"space-y-6",children:(0,l.jsxs)(n.Zp,{className:"shadow-lg border-0",children:[(0,l.jsx)(n.aR,{className:"bg-gradient-to-r from-red-50 to-pink-50 border-b",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center",children:(0,l.jsx)(h.A,{className:"w-5 h-5 text-red-600"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)(n.ZB,{className:"text-xl text-gray-800",children:(null==_?void 0:_.role)==="donor"?"Lịch hẹn hiến m\xe1u":"Lịch sử y\xeau cầu m\xe1u"}),(0,l.jsx)(n.BT,{className:"text-gray-600",children:(null==_?void 0:_.role)==="donor"?"C\xe1c lịch hẹn hiến m\xe1u của bạn":"Tất cả c\xe1c lần y\xeau cầu của bạn"})]})]}),(null==_?void 0:_.role)==="recipient"&&(0,l.jsx)("div",{className:"flex items-center space-x-2",children:(0,l.jsxs)(x.l6,{onValueChange:Y,defaultValue:W,children:[(0,l.jsx)(x.bq,{className:"w-60 bg-white border-gray-200",children:(0,l.jsx)(x.yv,{placeholder:"Loại lịch sử"})}),(0,l.jsxs)(x.gC,{children:[(0,l.jsx)(x.eb,{value:"blood-request-history",children:"\uD83E\uDE78 Y\xeau Cầu M\xe1u"}),(0,l.jsx)(x.eb,{value:"blood-donations-history",children:"❤️ Nhận từ người hiến"}),(0,l.jsx)(x.eb,{value:"blood-donations-blood-inventory-history",children:"\uD83C\uDFE5 Nhận từ kho m\xe1u"})]})]})})]})}),(null==_?void 0:_.role)==="donor"&&(0,l.jsx)(n.Wu,{className:"p-6",children:(0,l.jsx)("div",{className:"space-y-4",children:Array.isArray(null==I?void 0:I.data)&&(null==I?void 0:null===(e=I.data)||void 0===e?void 0:e.length)>0?null==I?void 0:I.data.map(e=>{var s,t,a,r,n,i,c,o,x;return(0,l.jsx)("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm hover:shadow-md transition-all duration-200 hover:border-red-200",children:(0,l.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between space-y-4 lg:space-y-0 lg:space-x-6",children:[(0,l.jsxs)("div",{className:"flex-1 space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:(0,l.jsx)(h.A,{className:"w-6 h-6 text-red-600"})}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"font-medium",children:["Người hiến: ",(null===(s=e.donor_id)||void 0===s?void 0:s.full_name)||"Kh\xf4ng r\xf5"]}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:null===(t=e.donor_id)||void 0===t?void 0:t.email}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:["SĐT: ",null===(a=e.donor_id)||void 0===a?void 0:a.phone]})]})]}),e.recipient_id&&(0,l.jsxs)("div",{className:"mt-2 border-t pt-2",children:[(0,l.jsxs)("p",{className:"font-medium",children:["Người nhận: ",null===(r=e.recipient_id)||void 0===r?void 0:r.full_name]}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:null===(n=e.recipient_id)||void 0===n?void 0:n.email}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:["SĐT: ",null===(i=e.recipient_id)||void 0===i?void 0:i.phone]})]}),(0,l.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mt-2",children:[(0,l.jsx)(d.E,{className:"bg-blue-100 text-blue-800",children:null===(c=e.donation_type)||void 0===c?void 0:c.map(e=>ei(e)).join(", ")}),(0,l.jsx)(d.E,{className:em(e.status),children:en(e.status)})]}),(0,l.jsxs)("div",{className:"text-sm text-gray-600 mt-1",children:[(0,l.jsxs)("p",{children:["Ng\xe0y hiến: ",(0,l.jsx)("strong",{children:er(e.donation_date)})]}),(0,l.jsxs)("p",{children:["Lượng m\xe1u hiến: ",(0,l.jsx)("strong",{children:e.volume})," ml"]}),(0,l.jsxs)("p",{children:["Ghi ch\xfa: ",e.notes||"Kh\xf4ng c\xf3"]}),(0,l.jsxs)("p",{children:["Ng\xe0y tạo: ",er(e.createdAt)]})]})]}),(0,l.jsx)("div",{className:"flex flex-col justify-between items-end space-y-3 min-w-[220px]",children:(0,l.jsxs)("div",{className:"text-right text-sm",children:[(0,l.jsx)("p",{className:"font-medium text-gray-800",children:"Cập nhật bởi:"}),(0,l.jsx)("p",{className:"text-gray-600",children:(null===(o=e.updated_by)||void 0===o?void 0:o.full_name)||"Chưa r\xf5"}),(0,l.jsx)("p",{className:"text-gray-600",children:(null===(x=e.updated_by)||void 0===x?void 0:x.email)||"-"})]})})]})},e._id)}):(0,l.jsx)("p",{className:"text-gray-600 text-center py-8",children:"Kh\xf4ng t\xecm thấy lịch tr\xecnh hiến m\xe1u."})})}),(null==_?void 0:_.role)==="recipient"&&(0,l.jsx)(n.Wu,{className:"p-6",children:(0,l.jsxs)("div",{className:"space-y-4",children:["blood-request-history"===W&&[...q].sort((e,s)=>new Date(s.createdAt).getTime()-new Date(e.createdAt).getTime()).map((e,s)=>(0,l.jsx)("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm hover:shadow-md transition-all duration-200 hover:border-red-200",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsx)("div",{className:"w-14 h-14 bg-gradient-to-br from-red-100 to-pink-100 rounded-full flex items-center justify-center shadow-sm",children:(0,l.jsx)(N.A,{className:"w-7 h-7 text-red-600"})}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,l.jsxs)("p",{className:"font-semibold text-gray-800",children:["Y\xeau cầu #",q.length-s]}),e.is_emergency&&(0,l.jsx)(d.E,{className:"bg-red-600 text-white text-xs px-2 py-0.5 rounded-full animate-pulse",children:"⚠️ Khẩn cấp"})]}),(0,l.jsx)("p",{className:"text-sm text-gray-600 font-medium",children:z[e._id]||"Đang tải..."}),(0,l.jsxs)("div",{className:"flex items-center space-x-3 mt-2 text-xs text-gray-500",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,l.jsx)(y.A,{className:"w-3 h-3"}),(0,l.jsx)("span",{children:new Date(e.createdAt).toLocaleDateString("vi-VN")})]}),(0,l.jsx)("span",{children:"•"}),(0,l.jsxs)("span",{className:"font-medium",children:[e.amount_needed," ml"]}),(0,l.jsx)("span",{children:"•"}),(0,l.jsx)("span",{children:e.components_needed.map(e=>ei(e)).join(", ")}),(0,l.jsx)("span",{children:"•"}),(0,l.jsxs)("span",{children:[e.distance," km"]})]}),e.comment&&(0,l.jsx)("div",{className:"mt-2 p-2 bg-gray-50 rounded-lg",children:(0,l.jsxs)("p",{className:"text-xs text-gray-600 whitespace-pre-line",children:["\uD83D\uDCAC ",e.comment]})})]})]}),(0,l.jsxs)("div",{className:"flex flex-col items-end space-y-2",children:[(0,l.jsx)(d.E,{className:em(e.status),children:en(e.status)}),(0,l.jsxs)(d.E,{className:"bg-gradient-to-r from-red-500 to-red-600 text-white px-3 py-1.5 rounded-full text-sm shadow-sm",children:["\uD83E\uDE78 ",e.blood_type_needed]})]})]})},e._id)),"blood-donations-history"===W&&Array.isArray(O)&&O.length>0?[...O].sort((e,s)=>new Date(s.createdAt).getTime()-new Date(e.createdAt).getTime()).map((e,s)=>{var t,a,r,n,i,c,o;return(0,l.jsx)("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm hover:shadow-md transition-all duration-200 hover:border-red-200",children:(0,l.jsxs)("div",{className:"flex-1 flex flex-col space-y-3",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsx)("div",{className:"w-14 h-14 bg-gradient-to-br from-red-100 to-pink-100 rounded-full flex items-center justify-center shadow-sm",children:(0,l.jsx)(h.A,{className:"w-7 h-7 text-red-600"})}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"font-bold text-lg text-gray-800",children:["❤️ Hiến m\xe1u #",O.length-s]}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:["Người hiến: ",(0,l.jsx)("span",{className:"font-semibold text-red-600",children:(null===(t=e.donor_id)||void 0===t?void 0:t.full_name)||"Kh\xf4ng r\xf5"})]}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:null===(a=e.donor_id)||void 0===a?void 0:a.email}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:["\uD83D\uDCDE ",null===(r=e.donor_id)||void 0===r?void 0:r.phone]})]})]}),e.recipient_id&&(0,l.jsxs)("div",{className:"mt-3 p-3 bg-red-50 border-l-4 border-red-300 rounded-r-lg",children:[(0,l.jsxs)("p",{className:"font-semibold text-gray-800",children:["\uD83C\uDFE5 Người nhận: ",(0,l.jsx)("span",{className:"text-red-700",children:null===(n=e.recipient_id)||void 0===n?void 0:n.full_name})]}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:null===(i=e.recipient_id)||void 0===i?void 0:i.email}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:["\uD83D\uDCDE ",null===(c=e.recipient_id)||void 0===c?void 0:c.phone]})]}),(0,l.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mt-3",children:[(0,l.jsxs)(d.E,{className:"bg-gradient-to-r from-red-500 to-red-600 text-white px-3 py-1.5 rounded-full shadow-sm",children:["\uD83E\uDE78 ",null===(o=e.donation_type)||void 0===o?void 0:o.map(e=>ei(e)).join(", ")]}),(0,l.jsx)(d.E,{className:em(e.status),children:en(e.status)})]}),(0,l.jsxs)("div",{className:"text-sm text-gray-700 mt-3 space-y-1 bg-white/60 p-3 rounded-lg",children:[(0,l.jsxs)("p",{className:"flex items-center space-x-2",children:[(0,l.jsx)(y.A,{className:"w-4 h-4 text-red-500"}),(0,l.jsxs)("span",{children:["Ng\xe0y hiến: ",(0,l.jsx)("strong",{className:"text-red-600",children:er(e.donation_date)})]})]}),(0,l.jsxs)("p",{className:"flex items-center space-x-2",children:[(0,l.jsx)(N.A,{className:"w-4 h-4 text-red-500"}),(0,l.jsxs)("span",{children:["Lượng m\xe1u hiến: ",(0,l.jsx)("strong",{className:"text-red-600",children:e.volume})," ml"]})]}),(0,l.jsxs)("p",{children:["\uD83D\uDCAC Ghi ch\xfa: ",(0,l.jsx)("span",{className:"italic",children:e.notes||"Kh\xf4ng c\xf3"})]}),(0,l.jsxs)("p",{className:"text-xs text-gray-500",children:["\uD83D\uDD52 Ng\xe0y tạo: ",er(e.createdAt)]})]})]})},e._id)}):"blood-donations-blood-inventory-history"===W?"":"blood-donations-history"===W&&Array.isArray(O)&&0===O.length?(0,l.jsxs)("div",{className:"text-center py-12",children:[(0,l.jsx)("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,l.jsx)(h.A,{className:"w-10 h-10 text-red-400"})}),(0,l.jsx)("p",{className:"text-gray-600 text-lg font-medium",children:"Chưa c\xf3 lịch sử nhận m\xe1u từ người hiến"}),(0,l.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:"Khi c\xf3 người hiến m\xe1u cho bạn, th\xf4ng tin sẽ hiển thị tại đ\xe2y"})]}):"blood-request-history"===W?"":(0,l.jsx)("p",{className:"text-gray-600",children:"Kh\xf4ng t\xecm thấy người hiến m\xe1u."}),"blood-donations-blood-inventory-history"===W&&Array.isArray($)&&$.length>0?[...$].sort((e,s)=>new Date(s.createdAt).getTime()-new Date(e.createdAt).getTime()).map((e,s)=>{var t,a,r,n,i,c,o;return(0,l.jsx)("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm hover:shadow-md transition-all duration-200 hover:border-red-200",children:(0,l.jsxs)("div",{className:"flex-1 flex flex-col space-y-3",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsx)("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-100 to-cyan-100 rounded-full flex items-center justify-center shadow-sm",children:(0,l.jsx)(N.A,{className:"w-7 h-7 text-blue-600"})}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"font-bold text-lg text-gray-800",children:["\uD83C\uDFE5 Kho m\xe1u #",$.length-s]}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:["Nh\xf3m m\xe1u: ",(0,l.jsx)("span",{className:"font-semibold text-blue-600",children:(null===(t=e.inventory_item)||void 0===t?void 0:t.blood_type)||"Kh\xf4ng r\xf5"})]}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:["Th\xe0nh phần: ",(0,l.jsx)("span",{className:"font-medium",children:ei((null===(a=e.inventory_item)||void 0===a?void 0:a.component)||"")})]}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:["Lượng tồn: ",(0,l.jsxs)("span",{className:"font-medium text-blue-600",children:[null===(r=e.inventory_item)||void 0===r?void 0:r.quantity," ml"]})]})]})]}),e.recipient_id&&(0,l.jsxs)("div",{className:"mt-3 p-3 bg-blue-50 border-l-4 border-blue-300 rounded-r-lg",children:[(0,l.jsxs)("p",{className:"font-semibold text-gray-800",children:["\uD83D\uDC64 Người nhận: ",(0,l.jsx)("span",{className:"text-blue-700",children:null===(n=e.recipient_id)||void 0===n?void 0:n.full_name})]}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:null===(i=e.recipient_id)||void 0===i?void 0:i.email}),(0,l.jsxs)("p",{className:"text-sm text-gray-600",children:["\uD83D\uDCDE ",null===(c=e.recipient_id)||void 0===c?void 0:c.phone]})]}),(0,l.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mt-3",children:[(0,l.jsxs)(d.E,{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white px-3 py-1.5 rounded-full shadow-sm",children:["\uD83E\uDDEA ",ei((null===(o=e.inventory_item)||void 0===o?void 0:o.component)||"")]}),(0,l.jsx)(d.E,{className:em(e.status),children:en(e.status)})]}),(0,l.jsxs)("div",{className:"text-sm text-gray-700 mt-3 space-y-1 bg-white/60 p-3 rounded-lg",children:[(0,l.jsxs)("p",{className:"flex items-center space-x-2",children:[(0,l.jsx)(y.A,{className:"w-4 h-4 text-blue-500"}),(0,l.jsxs)("span",{children:["Ng\xe0y r\xfat m\xe1u: ",(0,l.jsx)("strong",{className:"text-blue-600",children:er(e.donation_date)})]})]}),(0,l.jsxs)("p",{className:"flex items-center space-x-2",children:[(0,l.jsx)(N.A,{className:"w-4 h-4 text-blue-500"}),(0,l.jsxs)("span",{children:["Lượng m\xe1u r\xfat: ",(0,l.jsx)("strong",{className:"text-blue-600",children:e.volume})," ml"]})]}),(0,l.jsxs)("p",{children:["\uD83D\uDCAC Ghi ch\xfa: ",(0,l.jsx)("span",{className:"italic",children:e.notes||"Kh\xf4ng c\xf3"})]}),(0,l.jsxs)("p",{className:"text-xs text-gray-500",children:["\uD83D\uDD52 Ng\xe0y tạo: ",er(e.createdAt)]})]})]})},e._id)}):"blood-donations-blood-inventory-history"===W&&Array.isArray($)&&0===$.length?(0,l.jsxs)("div",{className:"text-center py-12",children:[(0,l.jsx)("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,l.jsx)(N.A,{className:"w-10 h-10 text-blue-400"})}),(0,l.jsx)("p",{className:"text-gray-600 text-lg font-medium",children:"Chưa c\xf3 lịch sử nhận m\xe1u từ kho"}),(0,l.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:"Khi c\xf3 giao dịch từ kho m\xe1u, th\xf4ng tin sẽ hiển thị tại đ\xe2y"})]}):"blood-request-history"===W?"":"blood-donations-history"===W?"":(0,l.jsx)("p",{className:"text-gray-600 text-center py-8",children:"Kh\xf4ng t\xecm thấy dữ liệu r\xfat m\xe1u từ kho."})]})})]})}),(0,l.jsx)(m.av,{value:"achievements",className:"space-y-6",children:(0,l.jsxs)(n.Zp,{children:[(0,l.jsxs)(n.aR,{children:[(0,l.jsx)(n.ZB,{children:"Th\xe0nh t\xedch & Huy hiệu"}),(0,l.jsx)(n.BT,{children:"C\xe1c th\xe0nh t\xedch bạn đ\xe3 đạt được"})]}),(0,l.jsx)(n.Wu,{children:(0,l.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(null==_?void 0:_.role)==="donor"&&eo.map(e=>(0,l.jsx)("div",{className:"p-4 border rounded-lg ".concat(e.earned?"bg-yellow-50 border-yellow-200":"bg-gray-50 border-gray-200"),children:(0,l.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,l.jsx)("div",{className:"text-3xl",children:e.icon}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h3",{className:"font-semibold",children:e.name}),(0,l.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.description}),e.earned?(0,l.jsxs)(d.E,{className:"bg-yellow-100 text-yellow-800",children:[(0,l.jsx)(w.A,{className:"w-3 h-3 mr-1"}),"Đ\xe3 đạt được",e.earnedDate?" • ".concat(e.earnedDate):""]}):(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[(0,l.jsx)("span",{children:"Tiến độ"}),(0,l.jsxs)("span",{children:[Math.round(e.progress||0),"%"]})]}),(0,l.jsx)(c.k,{value:e.progress||0,className:"h-2"})]})]})]})},e.id)),(null==_?void 0:_.role)==="recipient"&&ex.map(e=>(0,l.jsx)("div",{className:"p-4 border rounded-lg ".concat(e.earned?"bg-yellow-50 border-yellow-200":"bg-gray-50 border-gray-200"),children:(0,l.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,l.jsx)("div",{className:"text-3xl",children:e.icon}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h3",{className:"font-semibold",children:e.name}),(0,l.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.description}),e.earned?(0,l.jsxs)(d.E,{className:"bg-yellow-100 text-yellow-800",children:[(0,l.jsx)(w.A,{className:"w-3 h-3 mr-1"}),"Đ\xe3 đạt được",e.earnedDate?" • ".concat(e.earnedDate):""]}):(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[(0,l.jsx)("span",{children:"Tiến độ"}),(0,l.jsxs)("span",{children:[Math.round(e.progress||0),"%"]})]}),(0,l.jsx)(c.k,{value:e.progress||0,className:"h-2"})]})]})]})},e.id))]})})]})}),(0,l.jsx)(m.av,{value:"profile",className:"space-y-6",children:(0,l.jsxs)(n.Zp,{className:"shadow-lg border-0",children:[(0,l.jsx)(n.aR,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-b",children:(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:(0,l.jsx)(f.A,{className:"w-6 h-6 text-blue-600"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)(n.ZB,{className:"text-xl text-gray-800",children:"Th\xf4ng tin c\xe1 nh\xe2n"}),(0,l.jsx)(n.BT,{className:"text-gray-600",children:"Quản l\xfd th\xf4ng tin t\xe0i khoản của bạn"})]})]})}),(0,l.jsx)(n.Wu,{className:"p-6",children:(0,l.jsxs)("div",{className:"space-y-8",children:[(0,l.jsxs)("div",{className:"flex flex-col lg:flex-row items-center lg:items-start space-y-4 lg:space-y-0 lg:space-x-6 p-6 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl",children:[(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("div",{className:"w-28 h-28 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center shadow-lg ring-4 ring-white",children:(0,l.jsx)(f.A,{className:"w-14 h-14 text-white"})}),(0,l.jsx)("div",{className:"absolute -bottom-1 -right-1 w-8 h-8 bg-green-500 rounded-full border-4 border-white flex items-center justify-center",children:(0,l.jsx)("div",{className:"w-3 h-3 bg-white rounded-full animate-pulse"})})]}),(0,l.jsxs)("div",{className:"flex-1 text-center lg:text-left",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:(null==_?void 0:_.full_name)||"Chưa c\xf3 th\xf4ng tin"}),(0,l.jsxs)("div",{className:"flex flex-wrap justify-center lg:justify-start gap-2 mb-3",children:[(0,l.jsxs)(d.E,{className:"bg-blue-100 text-blue-800 px-3 py-1.5 text-sm",children:[(0,l.jsx)(f.A,{className:"w-3 h-3 mr-1"}),(s=null==_?void 0:_.role)?"admin"===s?"Quản trị vi\xean":"donor"===s?"Người hiến m\xe1u":"recipient"===s?"Người nhận m\xe1u":"staff"===s?"Nh\xe2n vi\xean":"V\xf4 danh":"Unknown"]}),(null==_?void 0:_.role)==="donor"&&(null==es?void 0:es.blood_type)&&(0,l.jsxs)(d.E,{className:"bg-red-100 text-red-800 px-3 py-1.5 text-sm",children:[(0,l.jsx)(N.A,{className:"w-3 h-3 mr-1"}),"Nh\xf3m m\xe1u ",es.blood_type]}),(null==_?void 0:_.role)==="donor"&&((null==I?void 0:I.count)||0)>=3&&(0,l.jsxs)(d.E,{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white px-3 py-1.5 text-sm shadow-sm",children:[(0,l.jsx)(p,{className:"w-3 h-3 mr-1"}),((null==I?void 0:I.count)||0)>=10?"Người h\xf9ng V\xe0ng":((null==I?void 0:I.count)||0)>=5?"Người h\xf9ng Bạc":"Người h\xf9ng Đồng"]}),(null==_?void 0:_.role)==="recipient"&&((null==q?void 0:q.length)||0)>=2&&(0,l.jsxs)(d.E,{className:"bg-gradient-to-r from-blue-400 to-cyan-500 text-white px-3 py-1.5 text-sm shadow-sm",children:[(0,l.jsx)(p,{className:"w-3 h-3 mr-1"}),"Th\xe0nh vi\xean t\xedch cực"]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mt-4",children:[(0,l.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg p-3 text-center border border-white/50",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:(null==_?void 0:_.role)==="donor"?50*((null==I?void 0:I.count)||0):10*((null==q?void 0:q.length)||0)}),(0,l.jsx)("div",{className:"text-xs text-gray-600 font-medium",children:"Điểm t\xedch lũy"})]}),(0,l.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg p-3 text-center border border-white/50",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-green-600",children:(null==_?void 0:_.role)==="donor"?(null==I?void 0:I.count)||0:(null==q?void 0:q.length)||0}),(0,l.jsx)("div",{className:"text-xs text-gray-600 font-medium",children:(null==_?void 0:_.role)==="donor"?"Lần hiến m\xe1u":"Y\xeau cầu m\xe1u"})]}),(0,l.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg p-3 text-center border border-white/50",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:(null==_?void 0:_.createdAt)?Math.floor((new Date().getTime()-new Date(_.createdAt).getTime())/864e5):0}),(0,l.jsx)("div",{className:"text-xs text-gray-600 font-medium",children:"Ng\xe0y tham gia"})]})]}),(0,l.jsxs)("p",{className:"text-gray-600 mt-3 text-sm",children:[(0,l.jsxs)("span",{className:"inline-flex items-center",children:[(0,l.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"}),"Hoạt động • ",(null==_?void 0:_.email)||"Chưa c\xf3 th\xf4ng tin"]}),(null==_?void 0:_.role)==="donor"&&((null==I?void 0:I.count)||0)>0&&(0,l.jsxs)("span",{className:"block mt-1 text-xs",children:["\uD83C\uDFC6 Cấp độ: ",((null==I?void 0:I.count)||0)>=10?"Người h\xf9ng V\xe0ng":((null==I?void 0:I.count)||0)>=5?"Người h\xf9ng Bạc":((null==I?void 0:I.count)||0)>=3?"Người h\xf9ng Đồng":"Th\xe0nh vi\xean mới"]}),(null==_?void 0:_.role)==="donor"&&0===((null==I?void 0:I.count)||0)&&(0,l.jsx)("span",{className:"block mt-1 text-xs text-gray-500",children:"\uD83D\uDCA1 H\xe3y hiến m\xe1u lần đầu để nhận cấp độ đầu ti\xean!"}),(null==_?void 0:_.role)==="recipient"&&((null==q?void 0:q.length)||0)>=2&&(0,l.jsx)("span",{className:"block mt-1 text-xs",children:"\uD83C\uDFC6 Cấp độ: Th\xe0nh vi\xean t\xedch cực"}),(null==_?void 0:_.role)==="recipient"&&2>((null==q?void 0:q.length)||0)&&(0,l.jsx)("span",{className:"block mt-1 text-xs text-gray-500",children:"\uD83D\uDCA1 Th\xe0nh vi\xean mới - Ch\xe0o mừng bạn đến với hệ thống!"})]})]})]}),(0,l.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,l.jsxs)("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm hover:shadow-md transition-shadow duration-300",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-green-400 to-emerald-500 rounded-full flex items-center justify-center shadow-sm",children:(0,l.jsx)(f.A,{className:"w-5 h-5 text-white"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Th\xf4ng tin cơ bản"}),(0,l.jsx)("p",{className:"text-xs text-gray-500",children:"Th\xf4ng tin c\xe1 nh\xe2n của bạn"})]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3 p-4 bg-gradient-to-r from-gray-50 to-slate-50 rounded-lg border border-gray-100 hover:border-gray-200 transition-colors",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:(0,l.jsx)(f.A,{className:"w-5 h-5 text-blue-600"})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1 block",children:"Họ v\xe0 t\xean"}),(0,l.jsx)("p",{className:"font-semibold text-gray-800 text-base",children:(null==_?void 0:_.full_name)||"Chưa c\xf3 th\xf4ng tin"}),(0,l.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"T\xean hiển thị tr\xean hệ thống"})]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-3 p-4 bg-gradient-to-r from-gray-50 to-slate-50 rounded-lg border border-gray-100 hover:border-gray-200 transition-colors",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-indigo-100 rounded-full flex items-center justify-center",children:(0,l.jsx)(b,{className:"w-5 h-5 text-indigo-600"})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1 block",children:"Email"}),(0,l.jsx)("p",{className:"font-semibold text-gray-800 text-base",children:(null==_?void 0:_.email)||"Chưa c\xf3 th\xf4ng tin"}),(0,l.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,l.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,l.jsx)("p",{className:"text-xs text-green-600 font-medium",children:"Đ\xe3 x\xe1c thực"})]})]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-3 p-4 bg-gradient-to-r from-gray-50 to-slate-50 rounded-lg border border-gray-100 hover:border-gray-200 transition-colors",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-emerald-100 rounded-full flex items-center justify-center",children:(0,l.jsx)(k.A,{className:"w-5 h-5 text-emerald-600"})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1 block",children:"Số điện thoại"}),(0,l.jsx)("p",{className:"font-semibold text-gray-800 text-base",children:(null==_?void 0:_.phone)||"Chưa c\xf3 th\xf4ng tin"}),(0,l.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,l.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,l.jsx)("p",{className:"text-xs text-green-600 font-medium",children:"Đ\xe3 x\xe1c thực"})]})]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-3 p-4 bg-gradient-to-r from-gray-50 to-slate-50 rounded-lg border border-gray-100 hover:border-gray-200 transition-colors",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:(0,l.jsx)(f.A,{className:"w-5 h-5 text-purple-600"})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1 block",children:"Giới t\xednh"}),(0,l.jsx)("p",{className:"font-semibold text-gray-800 text-base",children:(t=null==_?void 0:_.gender)?"male"===t?"Nam":"female"===t?"Nữ":"other"===t?"Kh\xe1c":"V\xf4 danh":"Unknown"}),(0,l.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Th\xf4ng tin c\xe1 nh\xe2n"})]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-3 p-4 bg-gradient-to-r from-gray-50 to-slate-50 rounded-lg border border-gray-100 hover:border-gray-200 transition-colors",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center",children:(0,l.jsx)(y.A,{className:"w-5 h-5 text-orange-600"})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1 block",children:"Ng\xe0y sinh"}),(0,l.jsx)("p",{className:"font-semibold text-gray-800 text-base",children:(null==_?void 0:_.date_of_birth)?er(_.date_of_birth):"Chưa c\xf3 th\xf4ng tin"}),(0,l.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:(null==_?void 0:_.date_of_birth)?"".concat(Math.floor((new Date().getTime()-new Date(_.date_of_birth).getTime())/31536e6)," tuổi"):"Chưa c\xf3 th\xf4ng tin"})]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-3 p-4 bg-gradient-to-r from-gray-50 to-slate-50 rounded-lg border border-gray-100 hover:border-gray-200 transition-colors",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-teal-100 rounded-full flex items-center justify-center",children:(0,l.jsx)(v.A,{className:"w-5 h-5 text-teal-600"})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("label",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1 block",children:"Địa chỉ"}),(0,l.jsx)("p",{className:"font-semibold text-gray-800 text-base",children:(null==_?void 0:_.address)||"Chưa c\xf3 th\xf4ng tin"}),(0,l.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Địa chỉ thường tr\xfa"})]})]}),(0,l.jsx)("div",{className:"mt-6 p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg border border-green-200",children:(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:(0,l.jsx)(w.A,{className:"w-5 h-5 text-green-600"})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("label",{className:"text-xs font-semibold text-green-700 uppercase tracking-wide mb-1 block",children:"Trạng th\xe1i t\xe0i khoản"}),(0,l.jsx)("p",{className:"font-semibold text-green-800 text-base",children:"Đ\xe3 k\xedch hoạt"}),(0,l.jsxs)("p",{className:"text-xs text-green-600 mt-1",children:["Tham gia từ ",(null==_?void 0:_.createdAt)?er(_.createdAt):"Chưa r\xf5"]})]})]})})]})]}),(null==_?void 0:_.role)==="donor"&&(0,l.jsxs)("div",{className:"bg-gradient-to-br from-red-50 to-pink-50 border border-red-200 rounded-xl p-6 shadow-sm hover:shadow-md transition-shadow duration-300",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-red-400 to-pink-500 rounded-full flex items-center justify-center shadow-sm",children:(0,l.jsx)(h.A,{className:"w-5 h-5 text-white"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Th\xf4ng tin người hiến m\xe1u"}),(0,l.jsx)("p",{className:"text-xs text-red-600",children:"Hồ sơ y tế v\xe0 hiến m\xe1u"})]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3 p-4 bg-white/80 backdrop-blur-sm rounded-lg border border-red-100 hover:border-red-200 transition-colors",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:(0,l.jsx)(N.A,{className:"w-6 h-6 text-red-500"})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("label",{className:"text-xs font-semibold text-red-600 uppercase tracking-wide mb-1 block",children:"Nh\xf3m m\xe1u"}),(0,l.jsx)("p",{className:"font-bold text-red-700 text-2xl",children:(null==es?void 0:es.blood_type)||"Chưa c\xf3 th\xf4ng tin"}),(0,l.jsx)("p",{className:"text-xs text-red-500 mt-1",children:"Nh\xf3m m\xe1u của bạn"})]}),(0,l.jsx)("div",{className:"text-right",children:(0,l.jsx)(d.E,{className:"bg-red-500 text-white px-2 py-1 text-xs",children:"Đ\xe3 x\xe1c định"})})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-3 p-4 bg-white/80 backdrop-blur-sm rounded-lg border border-red-100 hover:border-red-200 transition-colors",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:(0,l.jsx)(y.A,{className:"w-6 h-6 text-green-500"})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("label",{className:"text-xs font-semibold text-red-600 uppercase tracking-wide mb-1 block",children:"Ng\xe0y c\xf3 thể hiến m\xe1u"}),(0,l.jsx)("p",{className:"font-semibold text-gray-800 text-base",children:(null==es?void 0:es.availability_date)?er(es.availability_date):"Chưa c\xf3 th\xf4ng tin"}),(0,l.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,l.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,l.jsx)("p",{className:"text-xs text-green-600 font-medium",children:"Sẵn s\xe0ng hiến m\xe1u"})]})]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-3 p-4 bg-white/80 backdrop-blur-sm rounded-lg border border-red-100 hover:border-red-200 transition-colors",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:(0,l.jsx)(v.A,{className:"w-6 h-6 text-blue-500"})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("label",{className:"text-xs font-semibold text-red-600 uppercase tracking-wide mb-1 block",children:"Bệnh viện đăng k\xfd"}),(0,l.jsx)("p",{className:"font-semibold text-blue-700 text-base",children:(null==U?void 0:U.name)||"Chưa c\xf3 th\xf4ng tin"}),(null==U?void 0:U.address)&&(0,l.jsxs)("p",{className:"text-sm text-gray-600 mt-1 flex items-center",children:[(0,l.jsx)(v.A,{className:"w-3 h-3 mr-1"}),U.address]}),(null==U?void 0:U.phone)&&(0,l.jsxs)("p",{className:"text-sm text-gray-600 mt-1 flex items-center",children:[(0,l.jsx)(k.A,{className:"w-3 h-3 mr-1"}),U.phone]})]})]}),(0,l.jsxs)("div",{className:"p-4 bg-white/80 backdrop-blur-sm rounded-lg border border-red-100",children:[(0,l.jsx)("label",{className:"text-xs font-semibold text-red-600 uppercase tracking-wide block mb-3",children:"Giấy chứng nhận sức khỏe"}),(null==es?void 0:es.health_cert_url)?(0,l.jsxs)("div",{className:"relative group",children:[(0,l.jsx)(r.default,{src:es.health_cert_url,alt:"Bằng sức khỏe",width:300,height:200,className:"w-full h-48 object-cover rounded-lg border shadow-sm group-hover:shadow-md transition-shadow"}),(0,l.jsx)("div",{className:"absolute top-3 right-3 bg-green-500 text-white rounded-full p-2 shadow-lg",children:(0,l.jsx)(w.A,{className:"w-4 h-4"})}),(0,l.jsx)("div",{className:"absolute bottom-3 left-3 bg-white/90 backdrop-blur-sm rounded-lg p-2",children:(0,l.jsx)("p",{className:"text-xs text-gray-700 font-medium",children:"Đ\xe3 x\xe1c thực"})})]}):(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center h-32 bg-gray-100 rounded-lg border-2 border-dashed border-gray-300",children:[(0,l.jsx)(A.A,{className:"w-8 h-8 text-gray-400 mb-2"}),(0,l.jsx)("p",{className:"text-gray-500 text-sm font-medium",children:"Chưa c\xf3 giấy chứng nhận"}),(0,l.jsx)("p",{className:"text-gray-400 text-xs",children:"Vui l\xf2ng cập nhật để ho\xe0n thiện hồ sơ"})]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-3 p-4 bg-white/80 backdrop-blur-sm rounded-lg border border-red-100 hover:border-red-200 transition-colors",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center",children:(0,l.jsx)(u.A,{className:"w-6 h-6 text-orange-500"})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("label",{className:"text-xs font-semibold text-red-600 uppercase tracking-wide mb-1 block",children:"Thời gian nghỉ ngơi"}),(0,l.jsx)("p",{className:"font-semibold text-gray-800 text-base",children:(null==es?void 0:es.cooldown_until)?er(es.cooldown_until):"Kh\xf4ng c\xf3 hạn chế"}),(0,l.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,l.jsx)("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),(0,l.jsx)("p",{className:"text-xs text-orange-600 font-medium",children:(null==es?void 0:es.cooldown_until)?"Đang trong thời gian nghỉ":"C\xf3 thể hiến m\xe1u"})]})]})]}),(0,l.jsxs)("div",{className:"mt-6 grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-lg p-4 text-center border border-red-100",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-red-600",children:(null==I?void 0:I.count)||0}),(0,l.jsx)("div",{className:"text-xs text-gray-600 font-medium",children:"Lần hiến m\xe1u"})]}),(0,l.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-lg p-4 text-center border border-red-100",children:[(0,l.jsxs)("div",{className:"text-2xl font-bold text-red-600",children:[(null==I?void 0:I.data)?I.data.reduce((e,s)=>e+(s.volume||0),0):0,"ml"]}),(0,l.jsx)("div",{className:"text-xs text-gray-600 font-medium",children:"Tổng lượng m\xe1u"})]})]}),((null==I?void 0:I.count)||0)>0&&(0,l.jsx)("div",{className:"mt-4 p-4 bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg border border-yellow-200",children:(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-yellow-100 rounded-full flex items-center justify-center",children:(0,l.jsx)(p,{className:"w-5 h-5 text-yellow-600"})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("label",{className:"text-xs font-semibold text-yellow-700 uppercase tracking-wide mb-1 block",children:"Tiến độ th\xe0nh t\xedch"}),(0,l.jsx)("p",{className:"font-semibold text-yellow-800 text-base",children:((null==I?void 0:I.count)||0)>=10?"\uD83C\uDFC6 Đ\xe3 đạt cấp cao nhất!":((null==I?void 0:I.count)||0)>=5?"C\xf2n ".concat(10-((null==I?void 0:I.count)||0)," lần để đạt Người h\xf9ng V\xe0ng"):((null==I?void 0:I.count)||0)>=3?"C\xf2n ".concat(5-((null==I?void 0:I.count)||0)," lần để đạt Người h\xf9ng Bạc"):"C\xf2n ".concat(3-((null==I?void 0:I.count)||0)," lần để đạt Người h\xf9ng Đồng")}),(0,l.jsx)("div",{className:"w-full bg-yellow-200 rounded-full h-2 mt-2",children:(0,l.jsx)("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 h-2 rounded-full transition-all duration-500",style:{width:"".concat(Math.min(((null==I?void 0:I.count)||0)/10*100,100),"%")}})})]})]})}),0===((null==I?void 0:I.count)||0)&&(0,l.jsx)("div",{className:"mt-4 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:(0,l.jsx)(h.A,{className:"w-5 h-5 text-blue-600"})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("label",{className:"text-xs font-semibold text-blue-700 uppercase tracking-wide mb-1 block",children:"Bắt đầu h\xe0nh tr\xecnh"}),(0,l.jsx)("p",{className:"font-semibold text-blue-800 text-base",children:"H\xe3y hiến m\xe1u lần đầu để bắt đầu h\xe0nh tr\xecnh cứu người!"}),(0,l.jsx)("p",{className:"text-xs text-blue-600 mt-1",children:'✨ Bạn sẽ nhận được 50 điểm v\xe0 cấp độ "Người h\xf9ng Đồng" sau lần hiến đầu ti\xean'})]})]})})]})]}),(null==_?void 0:_.role)==="recipient"&&(0,l.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-cyan-50 border border-blue-200 rounded-xl p-6 shadow-sm hover:shadow-md transition-shadow duration-300",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3 mb-6",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-400 to-cyan-500 rounded-full flex items-center justify-center shadow-sm",children:(0,l.jsx)(N.A,{className:"w-5 h-5 text-white"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Th\xf4ng tin người nhận m\xe1u"}),(0,l.jsx)("p",{className:"text-xs text-blue-600",children:"Hồ sơ y tế v\xe0 bệnh viện"})]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3 p-4 bg-white/80 backdrop-blur-sm rounded-lg border border-blue-100 hover:border-blue-200 transition-colors",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:(0,l.jsx)(v.A,{className:"w-6 h-6 text-blue-500"})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("label",{className:"text-xs font-semibold text-blue-600 uppercase tracking-wide mb-1 block",children:"Bệnh viện điều trị"}),(0,l.jsx)("p",{className:"font-semibold text-blue-700 text-base",children:(null==U?void 0:U.name)||"Chưa c\xf3 th\xf4ng tin"}),(null==U?void 0:U.address)&&(0,l.jsxs)("p",{className:"text-sm text-gray-600 mt-1 flex items-center",children:[(0,l.jsx)(v.A,{className:"w-3 h-3 mr-1"}),U.address]}),(null==U?void 0:U.phone)&&(0,l.jsxs)("p",{className:"text-sm text-gray-600 mt-1 flex items-center",children:[(0,l.jsx)(k.A,{className:"w-3 h-3 mr-1"}),U.phone]})]}),(0,l.jsx)("div",{className:"text-right",children:(0,l.jsx)(d.E,{className:"bg-blue-500 text-white px-2 py-1 text-xs",children:"Đ\xe3 đăng k\xfd"})})]}),(0,l.jsxs)("div",{className:"p-4 bg-white/80 backdrop-blur-sm rounded-lg border border-blue-100",children:[(0,l.jsx)("label",{className:"text-xs font-semibold text-blue-600 uppercase tracking-wide block mb-3",children:"Giấy tờ y tế"}),(null==el?void 0:el.medical_doc_url)?(0,l.jsxs)("div",{className:"relative group",children:[(0,l.jsx)(r.default,{src:el.medical_doc_url,alt:"Giấy tờ y tế",width:300,height:200,className:"w-full h-48 object-cover rounded-lg border shadow-sm group-hover:shadow-md transition-shadow"}),(0,l.jsx)("div",{className:"absolute top-3 right-3 bg-green-500 text-white rounded-full p-2 shadow-lg",children:(0,l.jsx)(w.A,{className:"w-4 h-4"})}),(0,l.jsx)("div",{className:"absolute bottom-3 left-3 bg-white/90 backdrop-blur-sm rounded-lg p-2",children:(0,l.jsx)("p",{className:"text-xs text-gray-700 font-medium",children:"Đ\xe3 x\xe1c thực"})})]}):(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center h-32 bg-gray-100 rounded-lg border-2 border-dashed border-gray-300",children:[(0,l.jsx)(A.A,{className:"w-8 h-8 text-gray-400 mb-2"}),(0,l.jsx)("p",{className:"text-gray-500 text-sm font-medium",children:"Chưa c\xf3 giấy tờ y tế"}),(0,l.jsx)("p",{className:"text-gray-400 text-xs",children:"Vui l\xf2ng cập nhật để ho\xe0n thiện hồ sơ"})]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-3 p-4 bg-white/80 backdrop-blur-sm rounded-lg border border-blue-100 hover:border-blue-200 transition-colors",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:(0,l.jsx)(y.A,{className:"w-6 h-6 text-green-500"})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("label",{className:"text-xs font-semibold text-blue-600 uppercase tracking-wide mb-1 block",children:"Ng\xe0y tạo hồ sơ"}),(0,l.jsx)("p",{className:"font-semibold text-gray-800 text-base",children:(null==el?void 0:el.createdAt)?er(el.createdAt):"Chưa r\xf5"}),(0,l.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,l.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,l.jsx)("p",{className:"text-xs text-green-600 font-medium",children:"Hồ sơ đ\xe3 được tạo"})]})]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-3 p-4 bg-white/80 backdrop-blur-sm rounded-lg border border-blue-100 hover:border-blue-200 transition-colors",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:(0,l.jsx)(u.A,{className:"w-6 h-6 text-purple-500"})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("label",{className:"text-xs font-semibold text-blue-600 uppercase tracking-wide mb-1 block",children:"Cập nhật gần nhất"}),(0,l.jsx)("p",{className:"font-semibold text-gray-800 text-base",children:(null==el?void 0:el.updatedAt)?er(el.updatedAt):"Chưa c\xf3 cập nhật"}),(0,l.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,l.jsx)("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),(0,l.jsx)("p",{className:"text-xs text-purple-600 font-medium",children:"Th\xf4ng tin đ\xe3 được cập nhật"})]})]})]}),(0,l.jsxs)("div",{className:"mt-6 grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-lg p-4 text-center border border-blue-100",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:(null==q?void 0:q.length)||0}),(0,l.jsx)("div",{className:"text-xs text-gray-600 font-medium",children:"Y\xeau cầu m\xe1u"})]}),(0,l.jsxs)("div",{className:"bg-white/90 backdrop-blur-sm rounded-lg p-4 text-center border border-blue-100",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:(null==$?void 0:$.length)||0}),(0,l.jsx)("div",{className:"text-xs text-gray-600 font-medium",children:"Lần nhận m\xe1u"})]})]}),((null==q?void 0:q.length)||0)>=2&&(0,l.jsx)("div",{className:"mt-4 p-4 bg-gradient-to-r from-blue-50 to-cyan-50 rounded-lg border border-blue-200",children:(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:(0,l.jsx)(p,{className:"w-5 h-5 text-blue-600"})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("label",{className:"text-xs font-semibold text-blue-700 uppercase tracking-wide mb-1 block",children:"Trạng th\xe1i th\xe0nh vi\xean"}),(0,l.jsx)("p",{className:"font-semibold text-blue-800 text-base",children:"Th\xe0nh vi\xean t\xedch cực"}),(0,l.jsxs)("p",{className:"text-xs text-blue-600 mt-1",children:["\uD83C\uDF89 Bạn đ\xe3 sử dụng hệ thống ",(null==q?void 0:q.length)||0," lần - Cảm ơn sự tin tưởng!"]})]})]})}),2>((null==q?void 0:q.length)||0)&&(0,l.jsx)("div",{className:"mt-4 p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg border border-green-200",children:(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:(0,l.jsx)(h.A,{className:"w-5 h-5 text-green-600"})}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("label",{className:"text-xs font-semibold text-green-700 uppercase tracking-wide mb-1 block",children:"Th\xe0nh vi\xean mới"}),(0,l.jsx)("p",{className:"font-semibold text-green-800 text-base",children:"Ch\xe0o mừng bạn đến với hệ thống!"}),(0,l.jsx)("p",{className:"text-xs text-green-600 mt-1",children:"\uD83D\uDC9A Ch\xfang t\xf4i lu\xf4n sẵn s\xe0ng hỗ trợ bạn trong việc t\xecm kiếm m\xe1u khi cần thiết"})]})]})})]})]})]}),(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 pt-6 border-t border-gray-200",children:[(0,l.jsxs)(i.$,{onClick:ed,disabled:K,className:"flex-1 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white shadow-lg",children:[(0,l.jsx)(D.A,{className:"w-4 h-4 mr-2"}),"Chỉnh sửa th\xf4ng tin"]}),(0,l.jsxs)(i.$,{variant:"outline",onClick:ec,disabled:K,className:"flex-1 border-blue-200 text-blue-600 hover:bg-blue-50",children:[(0,l.jsx)(C.A,{className:"w-4 h-4 mr-2"}),"Đổi mật khẩu"]})]})]})})]})})]})}),(0,l.jsx)(L.l$,{position:"top-center",containerStyle:{top:80}}),(0,l.jsx)(M.Footer,{})]})})}},646:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});let l=(0,t(9946).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},704:(e,s,t)=>{"use strict";t.d(s,{B8:()=>T,UC:()=>M,bL:()=>_,l9:()=>E});var l=t(2115),a=t(5185),r=t(6081),n=t(9196),i=t(8905),d=t(3655),c=t(4315),o=t(5845),x=t(1285),m=t(5155),h="Tabs",[u,g]=(0,r.A)(h,[n.RG]),p=(0,n.RG)(),[b,f]=u(h),v=l.forwardRef((e,s)=>{let{__scopeTabs:t,value:l,onValueChange:a,defaultValue:r,orientation:n="horizontal",dir:i,activationMode:h="automatic",...u}=e,g=(0,c.jH)(i),[p,f]=(0,o.i)({prop:l,onChange:a,defaultProp:r});return(0,m.jsx)(b,{scope:t,baseId:(0,x.B)(),value:p,onValueChange:f,orientation:n,dir:g,activationMode:h,children:(0,m.jsx)(d.sG.div,{dir:g,"data-orientation":n,...u,ref:s})})});v.displayName=h;var j="TabsList",N=l.forwardRef((e,s)=>{let{__scopeTabs:t,loop:l=!0,...a}=e,r=f(j,t),i=p(t);return(0,m.jsx)(n.bL,{asChild:!0,...i,orientation:r.orientation,dir:r.dir,loop:l,children:(0,m.jsx)(d.sG.div,{role:"tablist","aria-orientation":r.orientation,...a,ref:s})})});N.displayName=j;var y="TabsTrigger",w=l.forwardRef((e,s)=>{let{__scopeTabs:t,value:l,disabled:r=!1,...i}=e,c=f(y,t),o=p(t),x=D(c.baseId,l),h=C(c.baseId,l),u=l===c.value;return(0,m.jsx)(n.q7,{asChild:!0,...o,focusable:!r,active:u,children:(0,m.jsx)(d.sG.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":h,"data-state":u?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:x,...i,ref:s,onMouseDown:(0,a.m)(e.onMouseDown,e=>{r||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(l)}),onKeyDown:(0,a.m)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(l)}),onFocus:(0,a.m)(e.onFocus,()=>{let e="manual"!==c.activationMode;u||r||!e||c.onValueChange(l)})})})});w.displayName=y;var k="TabsContent",A=l.forwardRef((e,s)=>{let{__scopeTabs:t,value:a,forceMount:r,children:n,...c}=e,o=f(k,t),x=D(o.baseId,a),h=C(o.baseId,a),u=a===o.value,g=l.useRef(u);return l.useEffect(()=>{let e=requestAnimationFrame(()=>g.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,m.jsx)(i.C,{present:r||u,children:t=>{let{present:l}=t;return(0,m.jsx)(d.sG.div,{"data-state":u?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":x,hidden:!l,id:h,tabIndex:0,...c,ref:s,style:{...e.style,animationDuration:g.current?"0s":void 0},children:l&&n})}})});function D(e,s){return"".concat(e,"-trigger-").concat(s)}function C(e,s){return"".concat(e,"-content-").concat(s)}A.displayName=k;var _=v,T=N,E=w,M=A},1007:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});let l=(0,t(9946).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},1397:(e,s,t)=>{"use strict";t.d(s,{k:()=>i});var l=t(5155),a=t(2115),r=t(5863),n=t(3999);let i=a.forwardRef((e,s)=>{let{className:t,value:a,...i}=e;return(0,l.jsx)(r.bL,{ref:s,className:(0,n.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...i,children:(0,l.jsx)(r.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(a||0),"%)")}})})});i.displayName=r.bL.displayName},3403:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});let l=t(3464).A.create({baseURL:"/api"})},3717:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});let l=(0,t(9946).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},4186:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});let l=(0,t(9946).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},4964:(e,s,t)=>{"use strict";t.d(s,{Xi:()=>c,av:()=>o,j7:()=>d,tU:()=>i});var l=t(5155),a=t(2115),r=t(704),n=t(3999);let i=r.bL,d=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,l.jsx)(r.B8,{ref:s,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...a})});d.displayName=r.B8.displayName;let c=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,l.jsx)(r.l9,{ref:s,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...a})});c.displayName=r.l9.displayName;let o=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,l.jsx)(r.UC,{ref:s,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...a})});o.displayName=r.UC.displayName},5339:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});let l=(0,t(9946).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},5597:(e,s,t)=>{Promise.resolve().then(t.bind(t,624))},5784:(e,s,t)=>{"use strict";t.d(s,{bq:()=>m,eb:()=>p,gC:()=>g,l6:()=>o,yv:()=>x});var l=t(5155),a=t(2115),r=t(8715),n=t(6474),i=t(7863),d=t(5196),c=t(3999);let o=r.bL;r.YJ;let x=r.WT,m=a.forwardRef((e,s)=>{let{className:t,children:a,...i}=e;return(0,l.jsxs)(r.l9,{ref:s,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...i,children:[a,(0,l.jsx)(r.In,{asChild:!0,children:(0,l.jsx)(n.A,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=r.l9.displayName;let h=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,l.jsx)(r.PP,{ref:s,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,l.jsx)(i.A,{className:"h-4 w-4"})})});h.displayName=r.PP.displayName;let u=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,l.jsx)(r.wn,{ref:s,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,l.jsx)(n.A,{className:"h-4 w-4"})})});u.displayName=r.wn.displayName;let g=a.forwardRef((e,s)=>{let{className:t,children:a,position:n="popper",...i}=e;return(0,l.jsx)(r.ZL,{children:(0,l.jsxs)(r.UC,{ref:s,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...i,children:[(0,l.jsx)(h,{}),(0,l.jsx)(r.LM,{className:(0,c.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,l.jsx)(u,{})]})})});g.displayName=r.UC.displayName,a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,l.jsx)(r.JU,{ref:s,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...a})}).displayName=r.JU.displayName;let p=a.forwardRef((e,s)=>{let{className:t,children:a,...n}=e;return(0,l.jsxs)(r.q7,{ref:s,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[(0,l.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,l.jsx)(r.VF,{children:(0,l.jsx)(d.A,{className:"h-4 w-4"})})}),(0,l.jsx)(r.p4,{children:a})]})});p.displayName=r.q7.displayName,a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,l.jsx)(r.wv,{ref:s,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",t),...a})}).displayName=r.wv.displayName},5863:(e,s,t)=>{"use strict";t.d(s,{C1:()=>N,bL:()=>j});var l=t(2115),a=t(6081),r=t(3655),n=t(5155),i="Progress",[d,c]=(0,a.A)(i),[o,x]=d(i),m=l.forwardRef((e,s)=>{var t,l,a,i;let{__scopeProgress:d,value:c=null,max:x,getValueLabel:m=g,...h}=e;(x||0===x)&&!f(x)&&console.error((t="".concat(x),l="Progress","Invalid prop `max` of value `".concat(t,"` supplied to `").concat(l,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(100,"`.")));let u=f(x)?x:100;null===c||v(c,u)||console.error((a="".concat(c),i="Progress","Invalid prop `value` of value `".concat(a,"` supplied to `").concat(i,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(100," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")));let j=v(c,u)?c:null,N=b(j)?m(j,u):void 0;return(0,n.jsx)(o,{scope:d,value:j,max:u,children:(0,n.jsx)(r.sG.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":b(j)?j:void 0,"aria-valuetext":N,role:"progressbar","data-state":p(j,u),"data-value":null!=j?j:void 0,"data-max":u,...h,ref:s})})});m.displayName=i;var h="ProgressIndicator",u=l.forwardRef((e,s)=>{var t;let{__scopeProgress:l,...a}=e,i=x(h,l);return(0,n.jsx)(r.sG.div,{"data-state":p(i.value,i.max),"data-value":null!==(t=i.value)&&void 0!==t?t:void 0,"data-max":i.max,...a,ref:s})});function g(e,s){return"".concat(Math.round(e/s*100),"%")}function p(e,s){return null==e?"indeterminate":e===s?"complete":"loading"}function b(e){return"number"==typeof e}function f(e){return b(e)&&!isNaN(e)&&e>0}function v(e,s){return b(e)&&!isNaN(e)&&e<=s&&e>=0}u.displayName=h;var j=m,N=u},7340:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});let l=(0,t(9946).A)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},8074:(e,s,t)=>{"use strict";t.d(s,{O:()=>c});var l=t(5155),a=t(2115),r=t(5695),n=t(9894),i=t(8482),d=t(1976);function c(e){let{children:s,requiredRole:t,redirectTo:c="/login"}=e,[o,x]=(0,a.useState)(null),[m,h]=(0,a.useState)(!0),u=(0,r.useRouter)();return((0,a.useEffect)(()=>{let e=(0,n.HW)();if(!e){u.push(c);return}if(t&&("user"===t&&"admin"===e.role||"user"!==t&&e.role!==t)){"admin"===e.role?u.push("/admin/dashboard"):"staff"===e.role?u.push("/staff/dashboard"):u.push("/user/dashboard");return}x(e),h(!1)},[u,t,c]),m)?(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,l.jsx)(i.Zp,{className:"w-full max-w-md",children:(0,l.jsxs)(i.Wu,{className:"flex flex-col items-center justify-center p-8",children:[(0,l.jsx)("div",{className:"w-16 h-16 bg-red-500 rounded-full flex items-center justify-center mb-4 animate-pulse",children:(0,l.jsx)(d.A,{className:"w-8 h-8 text-white"})}),(0,l.jsx)("p",{className:"text-gray-600",children:"Đang kiểm tra quyền truy cập..."})]})})}):o?(0,l.jsx)(l.Fragment,{children:s}):null}},8145:(e,s,t)=>{"use strict";t.d(s,{E:()=>i});var l=t(5155);t(2115);var a=t(2085),r=t(3999);let n=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:s,variant:t,...a}=e;return(0,l.jsx)("div",{className:(0,r.cn)(n({variant:t}),s),...a})}},8482:(e,s,t)=>{"use strict";t.d(s,{BT:()=>c,Wu:()=>o,ZB:()=>d,Zp:()=>n,aR:()=>i});var l=t(5155),a=t(2115),r=t(3999);let n=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,l.jsx)("div",{ref:s,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a})});n.displayName="Card";let i=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,l.jsx)("div",{ref:s,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",t),...a})});i.displayName="CardHeader";let d=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,l.jsx)("div",{ref:s,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})});d.displayName="CardTitle";let c=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,l.jsx)("div",{ref:s,className:(0,r.cn)("text-sm text-muted-foreground",t),...a})});c.displayName="CardDescription";let o=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,l.jsx)("div",{ref:s,className:(0,r.cn)("p-6 pt-0",t),...a})});o.displayName="CardContent",a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,l.jsx)("div",{ref:s,className:(0,r.cn)("flex items-center p-6 pt-0",t),...a})}).displayName="CardFooter"},8691:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});let l=(0,t(9946).A)("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]])},9074:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});let l=(0,t(9946).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])}},e=>{var s=s=>e(e.s=s);e.O(0,[6237,3464,3568,461,1975,8441,1684,7358],()=>s(5597)),_N_E=e.O()}]);