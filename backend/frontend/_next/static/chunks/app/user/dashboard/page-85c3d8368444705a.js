(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[503],{2570:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>k});var n=l(5155),i=l(2115),a=l(8074),t=l(8482),c=l(7168),r=l(8145),d=l(1397),x=l(4964),h=l(4186),m=l(5339),j=l(9037),o=l(3861),u=l(1976),N=l(1007),p=l(7340),g=l(4835),v=l(8691),y=l(238),f=l(9074),b=l(381),w=l(646),A=l(4616),B=l(3717),C=l(6874),T=l.n(C),Z=l(9894),D=l(5695);function k(){let e=(0,D.useRouter)(),[s,l]=(0,i.useState)((0,Z.HW)()),C=async()=>{await (0,Z.ri)(),(0,Z.lt)(null),e.push("/")},k={totalDonations:(null==s?void 0:s.totalDonations)||5,nextEligibleDate:"2024-12-15",bloodType:(null==s?void 0:s.bloodType)||"O+",lastDonation:(null==s?void 0:s.lastDonation)||"2024-09-15",points:250,level:"Người h\xf9ng Bạc",daysUntilNext:45},H=[{id:"A001",date:"2024-12-20",time:"09:00",location:"Trung t\xe2m Hiến m\xe1u Nh\xe2n đạo",type:"Hiến m\xe1u định kỳ",status:"confirmed"}],R=[{id:1,type:"reminder",title:"Nhắc nhở hiến m\xe1u",message:"Bạn c\xf3 thể hiến m\xe1u trở lại từ ng\xe0y 15/12/2024",time:"2 ng\xe0y trước",read:!1},{id:2,type:"emergency",title:"Y\xeau cầu khẩn cấp",message:"Cần gấp nh\xf3m m\xe1u O+ tại BV Chợ Rẫy",time:"1 tuần trước",read:!0},{id:3,type:"achievement",title:"Ch\xfac mừng!",message:"Bạn đ\xe3 đạt cấp độ 'Người h\xf9ng Bạc'",time:"2 tuần trước",read:!0}],W=e=>{switch(e){case"completed":return"bg-green-100 text-green-800";case"confirmed":return"bg-blue-100 text-blue-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},E=e=>{switch(e){case"reminder":return h.A;case"emergency":return m.A;case"achievement":return j.A;default:return o.A}};return(0,n.jsx)(a.O,{requiredRole:"user",children:(0,n.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,n.jsx)("header",{className:"bg-white border-b sticky top-0 z-50",children:(0,n.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsxs)(T(),{href:"/",className:"flex items-center space-x-2",children:[(0,n.jsx)("div",{className:"w-10 h-10 bg-red-500 rounded-full flex items-center justify-center",children:(0,n.jsx)(u.A,{className:"w-6 h-6 text-white"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"BloodConnect"}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:"Bảng điều khiển c\xe1 nh\xe2n"})]})]}),(0,n.jsxs)(r.E,{className:"bg-blue-100 text-blue-800",children:[(0,n.jsx)(N.A,{className:"w-3 h-3 mr-1"}),"Người hiến m\xe1u"]})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsxs)("span",{className:"text-sm text-gray-600",children:["Xin ch\xe0o, ",(0,n.jsx)("strong",{children:null==s?void 0:s.name})]}),(0,n.jsx)(c.$,{variant:"outline",size:"sm",asChild:!0,children:(0,n.jsxs)(T(),{href:"/",children:[(0,n.jsx)(p.A,{className:"w-4 h-4 mr-2"}),"Về trang chủ"]})}),(0,n.jsxs)(c.$,{variant:"outline",size:"sm",onClick:C,children:[(0,n.jsx)(g.A,{className:"w-4 h-4 mr-2"}),"Đăng xuất"]})]})]})})}),(0,n.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,n.jsxs)(t.Zp,{children:[(0,n.jsxs)(t.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,n.jsx)(t.ZB,{className:"text-sm font-medium",children:"Tổng lần hiến"}),(0,n.jsx)(u.A,{className:"h-4 w-4 text-red-500"})]}),(0,n.jsxs)(t.Wu,{children:[(0,n.jsx)("div",{className:"text-2xl font-bold text-red-600",children:k.totalDonations}),(0,n.jsx)("p",{className:"text-xs text-muted-foreground",children:"lần hiến m\xe1u"})]})]}),(0,n.jsxs)(t.Zp,{children:[(0,n.jsxs)(t.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,n.jsx)(t.ZB,{className:"text-sm font-medium",children:"Nh\xf3m m\xe1u"}),(0,n.jsx)(v.A,{className:"h-4 w-4 text-red-500"})]}),(0,n.jsxs)(t.Wu,{children:[(0,n.jsx)("div",{className:"text-2xl font-bold",children:k.bloodType}),(0,n.jsx)("p",{className:"text-xs text-muted-foreground",children:"Nh\xf3m m\xe1u của bạn"})]})]}),(0,n.jsxs)(t.Zp,{children:[(0,n.jsxs)(t.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,n.jsx)(t.ZB,{className:"text-sm font-medium",children:"Điểm thưởng"}),(0,n.jsx)(y.A,{className:"h-4 w-4 text-yellow-500"})]}),(0,n.jsxs)(t.Wu,{children:[(0,n.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:k.points}),(0,n.jsx)("p",{className:"text-xs text-muted-foreground",children:"điểm t\xedch lũy"})]})]}),(0,n.jsxs)(t.Zp,{children:[(0,n.jsxs)(t.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,n.jsx)(t.ZB,{className:"text-sm font-medium",children:"Cấp độ"}),(0,n.jsx)(j.A,{className:"h-4 w-4 text-purple-500"})]}),(0,n.jsxs)(t.Wu,{children:[(0,n.jsx)("div",{className:"text-lg font-bold text-purple-600",children:k.level}),(0,n.jsx)("p",{className:"text-xs text-muted-foreground",children:"Cấp độ hiện tại"})]})]})]}),(0,n.jsxs)(x.tU,{defaultValue:"overview",className:"space-y-6",children:[(0,n.jsxs)(x.j7,{className:"grid w-full grid-cols-5",children:[(0,n.jsx)(x.Xi,{value:"overview",children:"Tổng quan"}),(0,n.jsx)(x.Xi,{value:"history",children:"Lịch sử"}),(0,n.jsx)(x.Xi,{value:"appointments",children:"Lịch hẹn"}),(0,n.jsx)(x.Xi,{value:"achievements",children:"Th\xe0nh t\xedch"}),(0,n.jsx)(x.Xi,{value:"profile",children:"Hồ sơ"})]}),(0,n.jsxs)(x.av,{value:"overview",className:"space-y-6",children:[(0,n.jsxs)("div",{className:"grid lg:grid-cols-2 gap-6",children:[(0,n.jsxs)(t.Zp,{children:[(0,n.jsx)(t.aR,{children:(0,n.jsxs)(t.ZB,{className:"flex items-center",children:[(0,n.jsx)(f.A,{className:"w-5 h-5 mr-2 text-blue-600"}),"Lần hiến tiếp theo"]})}),(0,n.jsx)(t.Wu,{children:(0,n.jsxs)("div",{className:"text-center space-y-4",children:[(0,n.jsxs)("div",{className:"text-3xl font-bold text-blue-600",children:[k.daysUntilNext," ng\xe0y"]}),(0,n.jsxs)("p",{className:"text-gray-600",children:["Bạn c\xf3 thể hiến m\xe1u trở lại từ ng\xe0y ",(0,n.jsx)("strong",{children:k.nextEligibleDate})]}),(0,n.jsx)(d.k,{value:(90-k.daysUntilNext)/90*100,className:"h-2"}),(0,n.jsxs)(c.$,{className:"w-full",disabled:k.daysUntilNext>0,children:[(0,n.jsx)(f.A,{className:"w-4 h-4 mr-2"}),k.daysUntilNext>0?"Chưa đến thời gian":"Đặt lịch hiến m\xe1u"]})]})})]}),(0,n.jsxs)(t.Zp,{children:[(0,n.jsx)(t.aR,{children:(0,n.jsxs)(t.ZB,{className:"flex items-center justify-between",children:[(0,n.jsxs)("span",{className:"flex items-center",children:[(0,n.jsx)(o.A,{className:"w-5 h-5 mr-2 text-yellow-600"}),"Th\xf4ng b\xe1o"]}),(0,n.jsxs)(r.E,{variant:"outline",children:[R.filter(e=>!e.read).length," mới"]})]})}),(0,n.jsx)(t.Wu,{children:(0,n.jsx)("div",{className:"space-y-4",children:R.slice(0,3).map(e=>{let s=E(e.type);return(0,n.jsxs)("div",{className:"flex items-start space-x-3 p-3 rounded-lg ".concat(e.read?"bg-gray-50":"bg-blue-50 border border-blue-200"),children:[(0,n.jsx)("div",{className:"w-8 h-8 rounded-full bg-white flex items-center justify-center",children:(0,n.jsx)(s,{className:"w-4 h-4 text-gray-600"})}),(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsx)("p",{className:"font-medium text-sm",children:e.title}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:e.message}),(0,n.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.time})]}),!e.read&&(0,n.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]},e.id)})})})]})]}),(0,n.jsxs)(t.Zp,{children:[(0,n.jsx)(t.aR,{children:(0,n.jsx)(t.ZB,{children:"H\xe0nh động nhanh"})}),(0,n.jsx)(t.Wu,{children:(0,n.jsxs)("div",{className:"grid md:grid-cols-3 gap-4",children:[(0,n.jsx)(c.$,{asChild:!0,className:"h-20 flex-col",children:(0,n.jsxs)(T(),{href:"/user/donate",children:[(0,n.jsx)(u.A,{className:"w-6 h-6 mb-2"}),"Đặt lịch hiến m\xe1u"]})}),(0,n.jsx)(c.$,{variant:"outline",asChild:!0,className:"h-20 flex-col",children:(0,n.jsxs)(T(),{href:"/emergency",children:[(0,n.jsx)(m.A,{className:"w-6 h-6 mb-2"}),"Y\xeau cầu khẩn cấp"]})}),(0,n.jsx)(c.$,{variant:"outline",asChild:!0,className:"h-20 flex-col",children:(0,n.jsxs)(T(),{href:"/user/profile",children:[(0,n.jsx)(b.A,{className:"w-6 h-6 mb-2"}),"Cập nhật hồ sơ"]})})]})})]})]}),(0,n.jsx)(x.av,{value:"history",className:"space-y-6",children:(0,n.jsxs)(t.Zp,{children:[(0,n.jsxs)(t.aR,{children:[(0,n.jsx)(t.ZB,{children:"Lịch sử hiến m\xe1u"}),(0,n.jsx)(t.BT,{children:"Tất cả c\xe1c lần hiến m\xe1u của bạn"})]}),(0,n.jsx)(t.Wu,{children:(0,n.jsx)("div",{className:"space-y-4",children:[{id:"D001",date:"15/09/2024",location:"Trung t\xe2m Hiến m\xe1u Nh\xe2n đạo",units:350,status:"completed",points:50},{id:"D002",date:"15/06/2024",location:"Bệnh viện Chợ Rẫy",units:350,status:"completed",points:50},{id:"D003",date:"15/03/2024",location:"Trung t\xe2m Hiến m\xe1u Nh\xe2n đạo",units:350,status:"completed",points:50},{id:"D004",date:"15/12/2023",location:"Bệnh viện B\xecnh Dan",units:350,status:"completed",points:50},{id:"D005",date:"15/09/2023",location:"Trung t\xe2m Hiến m\xe1u Nh\xe2n đạo",units:350,status:"completed",points:50}].map(e=>(0,n.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsx)("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:(0,n.jsx)(u.A,{className:"w-6 h-6 text-red-600"})}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("p",{className:"font-medium",children:["Hiến m\xe1u #",e.id]}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:e.location}),(0,n.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,n.jsx)("span",{className:"text-xs text-gray-500",children:e.date}),(0,n.jsx)("span",{className:"text-xs text-gray-500",children:"•"}),(0,n.jsxs)("span",{className:"text-xs text-gray-500",children:[e.units,"ml"]})]})]})]}),(0,n.jsxs)("div",{className:"text-right",children:[(0,n.jsxs)(r.E,{className:W(e.status),children:[(0,n.jsx)(w.A,{className:"w-3 h-3 mr-1"}),"Ho\xe0n th\xe0nh"]}),(0,n.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["+",e.points," điểm"]})]})]},e.id))})})]})}),(0,n.jsx)(x.av,{value:"appointments",className:"space-y-6",children:(0,n.jsxs)(t.Zp,{children:[(0,n.jsx)(t.aR,{children:(0,n.jsxs)(t.ZB,{className:"flex items-center justify-between",children:[(0,n.jsx)("span",{children:"Lịch hẹn sắp tới"}),(0,n.jsx)(c.$,{asChild:!0,children:(0,n.jsxs)(T(),{href:"/user/donate",children:[(0,n.jsx)(A.A,{className:"w-4 h-4 mr-2"}),"Đặt lịch mới"]})})]})}),(0,n.jsx)(t.Wu,{children:H.length>0?(0,n.jsx)("div",{className:"space-y-4",children:H.map(e=>(0,n.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-blue-50 border-blue-200",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:(0,n.jsx)(f.A,{className:"w-6 h-6 text-blue-600"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"font-medium",children:e.type}),(0,n.jsx)("p",{className:"text-sm text-gray-600",children:e.location}),(0,n.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,n.jsx)(h.A,{className:"w-3 h-3 text-gray-500"}),(0,n.jsxs)("span",{className:"text-xs text-gray-500",children:[e.date," l\xfac ",e.time]})]})]})]}),(0,n.jsxs)("div",{className:"flex space-x-2",children:[(0,n.jsxs)(c.$,{size:"sm",variant:"outline",children:[(0,n.jsx)(B.A,{className:"w-4 h-4 mr-1"}),"Sửa"]}),(0,n.jsx)(r.E,{className:W(e.status),children:"Đ\xe3 x\xe1c nhận"})]})]},e.id))}):(0,n.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,n.jsx)(f.A,{className:"w-12 h-12 mx-auto mb-4"}),(0,n.jsx)("p",{children:"Bạn chưa c\xf3 lịch hẹn n\xe0o"}),(0,n.jsx)(c.$,{asChild:!0,className:"mt-4",children:(0,n.jsx)(T(),{href:"/user/donate",children:"Đặt lịch hiến m\xe1u"})})]})})]})}),(0,n.jsx)(x.av,{value:"achievements",className:"space-y-6",children:(0,n.jsxs)(t.Zp,{children:[(0,n.jsxs)(t.aR,{children:[(0,n.jsx)(t.ZB,{children:"Th\xe0nh t\xedch & Huy hiệu"}),(0,n.jsx)(t.BT,{children:"C\xe1c th\xe0nh t\xedch bạn đ\xe3 đạt được"})]}),(0,n.jsx)(t.Wu,{children:(0,n.jsx)("div",{className:"grid md:grid-cols-2 gap-4",children:[{id:1,name:"Người hiến đầu ti\xean",description:"Ho\xe0n th\xe0nh lần hiến m\xe1u đầu ti\xean",icon:"\uD83C\uDFC6",earned:!0,earnedDate:"15/09/2023"},{id:2,name:"Người h\xf9ng Bạc",description:"Hiến m\xe1u 5 lần",icon:"\uD83E\uDD48",earned:!0,earnedDate:"15/09/2024"},{id:3,name:"Người h\xf9ng V\xe0ng",description:"Hiến m\xe1u 10 lần",icon:"\uD83E\uDD47",earned:!1,progress:50},{id:4,name:"Cứu tinh khẩn cấp",description:"Phản hồi y\xeau cầu khẩn cấp trong 1 giờ",icon:"⚡",earned:!1,progress:0}].map(e=>(0,n.jsx)("div",{className:"p-4 border rounded-lg ".concat(e.earned?"bg-yellow-50 border-yellow-200":"bg-gray-50 border-gray-200"),children:(0,n.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,n.jsx)("div",{className:"text-3xl",children:e.icon}),(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsx)("h3",{className:"font-semibold",children:e.name}),(0,n.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.description}),e.earned?(0,n.jsxs)(r.E,{className:"bg-yellow-100 text-yellow-800",children:[(0,n.jsx)(w.A,{className:"w-3 h-3 mr-1"}),"Đ\xe3 đạt được • ",e.earnedDate]}):(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[(0,n.jsx)("span",{children:"Tiến độ"}),(0,n.jsxs)("span",{children:[e.progress,"%"]})]}),(0,n.jsx)(d.k,{value:e.progress,className:"h-2"})]})]})]})},e.id))})})]})}),(0,n.jsx)(x.av,{value:"profile",className:"space-y-6",children:(0,n.jsxs)(t.Zp,{children:[(0,n.jsxs)(t.aR,{children:[(0,n.jsx)(t.ZB,{children:"Th\xf4ng tin c\xe1 nh\xe2n"}),(0,n.jsx)(t.BT,{children:"Quản l\xfd th\xf4ng tin t\xe0i khoản của bạn"})]}),(0,n.jsx)(t.Wu,{children:(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"font-semibold mb-4",children:"Th\xf4ng tin cơ bản"}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"text-sm text-gray-600",children:"Họ v\xe0 t\xean"}),(0,n.jsx)("p",{className:"font-medium",children:null==s?void 0:s.name})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"text-sm text-gray-600",children:"Email"}),(0,n.jsx)("p",{className:"font-medium",children:null==s?void 0:s.email})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"text-sm text-gray-600",children:"Số điện thoại"}),(0,n.jsx)("p",{className:"font-medium",children:null==s?void 0:s.phone})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"text-sm text-gray-600",children:"Địa chỉ"}),(0,n.jsx)("p",{className:"font-medium",children:null==s?void 0:s.address})]})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"font-semibold mb-4",children:"Th\xf4ng tin y tế"}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"text-sm text-gray-600",children:"Nh\xf3m m\xe1u"}),(0,n.jsx)("p",{className:"font-medium text-red-600",children:null==s?void 0:s.bloodType})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"text-sm text-gray-600",children:"Lần hiến cuối"}),(0,n.jsx)("p",{className:"font-medium",children:null==s?void 0:s.lastDonation})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"text-sm text-gray-600",children:"Tổng lần hiến"}),(0,n.jsxs)("p",{className:"font-medium",children:[null==s?void 0:s.totalDonations," lần"]})]})]})]})]}),(0,n.jsxs)("div",{className:"flex space-x-4",children:[(0,n.jsxs)(c.$,{children:[(0,n.jsx)(B.A,{className:"w-4 h-4 mr-2"}),"Chỉnh sửa th\xf4ng tin"]}),(0,n.jsxs)(c.$,{variant:"outline",children:[(0,n.jsx)(b.A,{className:"w-4 h-4 mr-2"}),"C\xe0i đặt t\xe0i khoản"]})]})]})})]})})]})]})]})})}},7253:(e,s,l)=>{Promise.resolve().then(l.bind(l,2570))}},e=>{var s=s=>e(e.s=s);e.O(0,[874,450,704,190,0,441,684,358],()=>s(7253)),_N_E=e.O()}]);